!function(undef){var version="2.1.3",author="Vova Feldman",global=this,is_migrating=!1;"undefined"==typeof RW_Advanced_Options&&(RW_Advanced_Options={}),"function"!=typeof String.prototype.isEmpty&&(String.prototype.isEmpty=function(){return 0===this.length}),"function"!=typeof String.prototype.ltrim&&(String.prototype.ltrim=function(e){return"undefined"==typeof e&&(e="\\s"),this.replace(new RegExp("^("+e+")+"),"")}),"function"!=typeof String.prototype.rtrim&&(String.prototype.rtrim=function(e){return"undefined"==typeof e&&(e="\\s"),this.replace(new RegExp("("+e+")+$"),"")}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(e){return this.ltrim(e).rtrim(e)}),"function"!=typeof String.prototype.left&&(String.prototype.left=function(e){return this.substring(0,e)}),"function"!=typeof String.prototype.right&&(String.prototype.right=function(e){return this.substring(e)}),"function"!=typeof String.prototype.contains&&(String.prototype.contains=function(e){return-1<this.indexOf(e)}),"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(e){return 0===this.indexOf(e)}),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(e){return this.length-e.length===this.lastIndexOf(e)}),"function"!=typeof String.prototype.ucfirst&&(String.prototype.ucfirst=function(){return 0==this.length?this:this.charAt(0).toUpperCase()+this.slice(1)}),"function"!=typeof String.prototype.toInt&&(String.prototype.toInt=function(){return parseInt(this,10)});var emptyFunc=function(){};window.console||(console={}),console.log=console.log||emptyFunc,console.warn=console.warn||emptyFunc,console.error=console.error||emptyFunc,console.info=console.info||emptyFunc;var doc=document,body=document.body,docElem=doc.documentElement,win=window,nav=navigator,DUMMY_STR="DUMMY",UNDEF="undefined",EMPTY_PCID="00000000-0000-0000-0000-000000000000",svgXmlns="http://www.w3.org/2000/svg",EMPTY_OPTIONS={},HTTPS=location.href.match(/^https/i),LOCALHOST=!1,DOMAIN="rating-widget.com",WWW=HTTPS?"https://rating-widget.com/":"http://rating-widget.com/",WWW_IMG=HTTPS?"https://rating-widget.com/img/":"//img.rating-widget.com/",WWW_JS=HTTPS?"https://rating-widget.com/js/":"//js.rating-widget.com/",WWW_CSS=HTTPS?"https://rating-widget.com/css/":"//css.rating-widget.com/",WWW_TMB=HTTPS?"https://rating-widget.com/apps/thumb/":"http://tmb.rating-widget.com/",_DOMAIN_REGEX=/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i,is_IE=!1,is_FF=!1,is_CH=!1,is_SF=!1,is_OP=!1;nav.userAgent&&(is_IE=-1!=nav.userAgent.indexOf("MSIE"),is_FF=-1!=nav.userAgent.indexOf("Firefox"),is_CH=-1!=nav.userAgent.indexOf("Chrome"),is_SF=-1!=nav.userAgent.indexOf("Safari"),is_OP=-1!=nav.userAgent.indexOf("Opera")),global.RW=function(){var goptions=null,ratings={},elements={},options={},coptions={},langs={en:!0},themes={},render_options={},_flashLoaded=!1,_isPremium=!1,_plan="free",_isMobile=!1,_showRecommendations=!1,_showSponsoredRecommendations=!1,_ratings={},_count=0,_recommendations=[],_resourceMonitor={data:!1,resources:!1,css:!1,dcss:!1},_timestamp=new Date,_cookie,_identified=!1,_initialized=!1,_flashTimeout,ratings_data=[],load_call_num=0,_initTooltip=function(){RW._tooltip=doc.createElement("span"),RW._tooltip.style.display="none",RW._tooltip.className="rw-ui-tooltip",body.appendChild(RW._tooltip)},_isFlashInstalled=function(){var e="Shockwave Flash",t="ShockwaveFlash.ShockwaveFlash",i="application/x-shockwave-flash",n=[0,0,0],r=null;if(RW._is(nav.plugins)&&"object"==typeof nav.plugins[e]){if(r=nav.plugins[e].description,r&&(!RW._is(nav.mimeTypes)||!nav.mimeTypes[i]||nav.mimeTypes[i].enabledPlugin))return r=r.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),n[0]=parseInt(r.replace(/^(.*)\..*$/,"$1"),10),n[1]=parseInt(r.replace(/^.*\.(.*)\s.*$/,"$1"),10),n[2]=/[a-zA-Z]/.test(r)?parseInt(r.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0,n}else if(RW._is(win.ActiveXObject))try{var o=new ActiveXObject(t);if(o&&(r=o.GetVariable("$version")))return r=r.split(" ")[1].split(","),[parseInt(r[0],10),parseInt(r[1],10),parseInt(r[2],10)]}catch(e){}return!1},_rateCallback=function(e,t){var i=_ratings[t];return RW._isNumeric(t)&&RW._is(i)?(e.success||RW._error(e.msg),i.voteCompleted(e.success,e.data,e.msg),void RW._clearJS()):void RW._clearJS()},_syncRatings=function(){var e,t,i=[],n=[i],r=0,o=window.location.toString().indexOf("DBG=")>-1;for(var s in _ratings)!o&&_ratings[s].isSynced()||(!1!==_ratings[s].getOption("forceSync")||!_ratings[s].getOption("readOnly")&&!1!==_ratings[s].getOption("sync"))&&(t={rid:_ratings[s].rid.toString(),type:_ratings[s].type,rclass:_ratings[s].rclass.substring(0,64),title:_ratings[s].title.substring(0,256),url:_ratings[s].url.substring(0,512),img:_ratings[s].img.substring(0,512)},e=t.rid.length+t.type.length+t.rclass.length+t.title.length+t.url.length+t.img.length+"{rid:type:rclass:title:url:img:}".length,r+e>RW.CALL_RATINGS_MAX_LEN&&(i=[],n.push(i),r=0),r+=e,i.push(t));for(var a=0,r=n.length;a<r;a++)n[a].length>0&&RW.Com.jsonp(RW._jsUrl("api/v2/rating/update.php"),{data:[{name:"ratings",value:encodeURIComponent(RW.JSON.stringify(n[a]))}],callback:RW._updateCallback})},_prefillMissing=function(){for(var e in _ratings)""===_ratings[e].title&&(!RW._isNotEmptyString(_ratings[e].turid)||_ratings[e].turid.startsWith("t")&&RW._isNumeric(_ratings[e].turid.substring(1))||(_ratings[e].title=_ratings[e].turid));var t=RW.getPrimaryRating();if(!1!==t&&(""===t.title&&(t.title=doc.title),""===t.img)){var i=RW._getFirstByAttr("property","og:image","","meta",doc.head);RW._is(i)&&(t.img=i.getAttribute("content"))}},_renderRatings=function(){for(var e in _ratings)_ratings[e].render();RW._isFun(render_options.callback)&&render_options.callback(_ratings),RW._clearJS(),RW._invokeHook("RW_HOOK_READY"),_prefillMissing(),_syncRatings()},_isCssLoaded=function(e,t){var i=doc.createElement("div");i.id=e,i.style.position="relative",body.appendChild(i);var n=parseFloat(RW._getStyle(i,"zIndex"));return RW.remove(i),n==t},_isStaticCssLoaded=function(){return _isCssLoaded("rw-css-loaded-flag",12358)},_isDynamicCssLoaded=function(){return _isCssLoaded("rw-dcss-loaded-flag",12358)};return{MAX:5,MIN:1,LIKE_RATE:5,DISLIKE_RATE:0,MIN_STARS:1,MAX_STARS:20,CALL_RATINGS_MAX_LEN:1e3,PREFIX:"rw",CUSTOM:"custom",_TYPE:{STRING:"string",BOOL:"boolean",NUM:"numeric",SIZE:"size",DIR:"dir",ALIGN_HOR:"hor",ALIGN_VER:"ver",RTYPE:"rating_type"},_DEF_STYLES:{STAR:"oxygen",NERO:"thumbs"},_DEF_FONT_SIZE:{TINY:"10px",SMALL:"12px",MEDIUM:"16px",LARGE:"20px"},_DEF_LINE_HEIGHT:{TINY:"12px",SMALL:"16px",MEDIUM:"20px",LARGE:"30px"},_TEXT_MAP:{STAR:["rateAwful","ratePoor","rateAverage","rateGood","rateExcellent"],NERO:["dislike","like"]},TYPE:{STAR:"star",NERO:"nero"},SIZE:{TINY:"tiny",SMALL:"small",MEDIUM:"medium",LARGE:"large"},STYLE:{YELLOW:"yellow",RED:"red",GREEN:"green",BLUE:"blue",CUSTOM:"custom"},FREQUENCY:{ONCE:-1,UNLIMITED:0,DAILY:1,WEEKLY:7,MONTHLY:30,YEARLY:365},DIR:{LTR:"ltr",RTL:"rtl"},ID_LOCATION:{LSO:"lso",COOKIE:"cookie",STORAGE:"storage"},IDENTIFICATION:{DEVICE:"device",IP:"ip",ACCOUNT:"account",LOCAL_ACOUNT:"laccount"},ALIGN:{HOR:{LEFT:"left",CENTER:"center",RIGHT:"right"},VER:{TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"}},site:{id:null,key:null,token:null,type:"website",category:"unknown",page:{url:window.location.toString()}},visitor:{id:null,gid:null,device:{id:EMPTY_PCID,type:"desktop",os:"other",browser:"other"},country:null,identifyBy:"laccount",mobile:!1},Ad:null,Sponsored:null,_tooltip:null,_defaultOptions:{lng:"en",url:"",img:"",title:"",type:"star",rclass:"",size:"small",theme:"",style:"",imgUrl:{ltr:"",rtl:""},isDummy:!1,readOnly:!1,sync:!0,forceSync:!1,reVote:!0,frequency:-1,showInfo:!0,showTooltip:!0,showAverage:!0,showReport:!0,showRecommendations:!1,hideRecommendations:!1,showSponsored:!1,showLoader:!0,boost:{votes:0,rate:5},uarid:"0",mobile:{optimized:!0,showTrigger:!0},label:{background:"#FFFFFF",text:{star:{empty:"{{text.rateThis}}",normal:"{{text.rateThis}} ({{rating.votes}} {{text.votes}})",rated:"{{rating.votes}} {{text.votes}}"},nero:{empty:"{{text.rateThis}}",normal:"{{text.rateThis}}",rated:"{{rating.votes}} {{text.votes}}"}}},advanced:{star:{stars:5},nero:{showDislike:!0,showLike:!0,text:{like:{empty:"{{rating.likes}}",rated:"{{rating.likes}}"},dislike:{empty:"{{rating.dislikes}}",rated:"{{rating.dislikes}}"}}},font:{bold:!1,italic:!1,color:"#000000",size:"12px",type:"inherit",hover:{color:"#000000"}},layout:{dir:"ltr",align:{hor:"right",ver:"middle"},lineHeight:"16px"},text:{rateAwful:"Awful",ratePoor:"Poor",rateAverage:"Average",rateGood:"Good",rateExcellent:"Excellent",rateThis:"Rate this",like:"Like",dislike:"Dislike",vote:"Vote",votes:"Votes",thanks:"Thank You",outOf:"out of",weRecommend:"We Recommend"},css:{container:""}},beforeRate:null,afterRate:null},getClassOptions:function(e){return RW._is(coptions[e])?coptions[e]:EMPTY_OPTIONS},getGlobalOptions:function(){return RW._is(goptions)?goptions:EMPTY_OPTIONS},getDefaultOptions:function(){return this._defaultOptions},_parseClassProperty:function(e,t,i){var n=e.className,r="rw-"+t+"-",o=n.indexOf(r);if(o<0)return i;if(o>0){if(o=n.indexOf(" "+r),o<0)return i;o++}for(var s="",a=o+r.length,l=n.length;a<l&&" "!=n.charAt(a);a++)s+=n.charAt(a);return s},_parseAtrProperty:function(e,t,i){return e.hasAttribute("data-"+t)?e.getAttribute("data-"+t):i},_getRatingId:function(e){var t=RW._parseClassProperty(e,"urid",!1);return!1===t&&(t=RW._parseAtrProperty(e,"urid",!1)),!1===t&&(t=RW._parseClassProperty(e,"title",!1)),!1===t&&(t=RW._parseAtrProperty(e,"title",!1)),!!RW._isNotEmptyString(t)&&t.toLowerCase().trim()},init:function(e,t,i,n){"object"!=typeof e&&(e={uid:e,vid:i,token:n,options:t,source:this.site.type,url:this.site.page.url,identifyBy:this.visitor.identifyBy}),this._identify(e),goptions=this._isUndefinedOrNull(e.options)?{}:e.options},_cookie:function(){return undef===_cookie&&(_cookie=new RW.Cookie),_cookie},_identifyVisitor:function(){var e=RW._cookie().get("device_id",!1);RW._isNumeric(e)&&(RW.visitor.device.id=e,_identified=!0),RW._renderFlash()},_generateDeviceID:function(){return((new Date).getTime()-13896504e5).toString()+Math.random().toString().substr(2,6)},_renderFlash:function(){if(!this._is(RW_Advanced_Options.blockFlash)||!0===RW_Advanced_Options.blockFlash||!1===_isFlashInstalled())return void this._flashLoaded(!1);var e="",t=RW._jsUrl("RatingWidget.swf");if(is_IE){var i=location.href.match(/^https/i)?"https://":"http://";e+='<object id="rw_lso_flash_inner" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+i+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="100" height="100" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+t+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="wmode" value="transparent"/></object>'}else e+='<embed id="rw_lso_flash_inner" src="'+t+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="100" height="100" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" wmode="transparent" />';var n=doc.createElement("div");n.id="rw_lso_flash",n.style.position="fixed",n.style.top=n.style.left="-100px",n.style.width=n.style.height="10px",n.innerHTML=e,doc.body.appendChild(n),_flashTimeout=setTimeout(function(){RW._flashLoaded(!1)},2e3)},_flashLoaded:function(e){if(!_flashLoaded){if(!e)return _identified||EMPTY_PCID!=RW.visitor.device.id||(RW.visitor.device.id=RW._generateDeviceID(),RW._cookie().set("device_id",RW.visitor.device.id)),void this._startInit();_flashLoaded=!0,clearTimeout(_flashTimeout),EMPTY_PCID!=RW.visitor.device.id?RW._getById("rw_lso_flash_inner").setDeviceID(RW.visitor.device.id):RW.visitor.device.id=RW._getById("rw_lso_flash_inner").getDeviceID(RW._generateDeviceID()),this._startInit()}},_startInit:function(){_initialized||(_initialized=!0,RW._invokeHook("RW_HOOK_INIT"),typeof RW_Async_Init!==UNDEF&&RW._isFun(RW_Async_Init)&&RW_Async_Init())},initRating:function(e,t){this._is(options[e])&&delete options[e],options[e]=t},initClass:function(e,t){this._is(coptions[e])&&delete coptions[e],coptions[e]=t},render:function(e,t,i){if(!is_migrating){undef===e&&(e={});var n,r,o,s;if(this._isNull(e)||"object"!=typeof e?(r=this._def(e,null),o=this._def(t,!0),s=this._def(i,undef)):(r=this._def(e.callback,null),o=this._def(e.optimized,!0),s=this._def(e.container,undef)),n=this._isFun(r)?function(){try{r.apply(this,Array.prototype.slice.call(arguments,0))}catch(e){console.error("ratingwidget: Error during callback: "+e.message)}}:null,render_options.optimized=o,render_options.callback=n,render_options.container=s,typeof _rwq!=typeof undef)for(var a=0;a<_rwq.length;a++)RW._isNotEmptyArray(_rwq[a])&&undef!==RW[_rwq[a][0]]&&"_setRecommendations"===_rwq[a][0]&&RW[_rwq[a][0]].apply(this,_rwq[a].slice(1));var l=RW._getByClassName("rw-ui-container","*",s);if(o&&0===l.length)return void(this._isFun(n)&&n([]));var u={uid:RW.Uid,huid:RW.site.id},c=0;_ratings={},_count=0,_resourceMonitor={data:!1,resources:!1,css:!1,dcss:_isStaticCssLoaded()},l.length>0&&(_initTooltip(),RW.RatingReport.init(),_resourceMonitor.css||RW.Com.asyncCss(RW._cssUrl("widget/style."+(LOCALHOST?"":HTTPS?"secure.":"min.")+"css"),{isLoaded:_isStaticCssLoaded,callback:function(){RW._resourceLoaded("css")}}));var d={},f=[];RW._foreach(l,function(e){if(!RW._Class.has(e,"rw-no-render")){var t=RW._getRatingId(e);t||(t="t"+c,c++),e.setAttribute("data-urid",t),d[t]=!0}});for(var p in d)_ratings[p]=new RW.Rating(p,u,options[p]),f.push(encodeURIComponent(p)),_count++;var R=[{name:"ids",value:RW.JSON.stringify(f)}];0<c&&R.push({name:"url",value:encodeURIComponent(RW.site.page.url)}),RW.Com.jsonp(RW._jsUrl("api/rating/get.php"),{data:R})}},_isEqualImg:function(e,t){return this._is(e)&&this._is(t)&&e.ltr==t.ltr&&e.rtl==t.rtl},_keys:function(e){var t=[];for(var i in e)t.push(i);return t},_clearJS:function(){RW._foreach(RW._getByClassName("rw-js-container","div"),function(e){if(e.hasChildNodes())for(;e.childNodes.length>0;)e.removeChild(e.firstChild)})},_distroyRatings:function(){for(var e in _ratings)_ratings[e].distroy(),delete _ratings[e]},_resourceLoaded:function(e){_resourceMonitor[e]=!0,_resourceMonitor.data&&_resourceMonitor.resources&&_resourceMonitor.css&&_resourceMonitor.dcss&&_renderRatings()},_getCallback:function(e){if(!e.success)return this._distroyRatings(),void(0==e.msg.indexOf("MAINTENANCE")?console.warn("ratingwidget: "+e.msg):RW._error(e.msg));_isPremium=!e.data.basic,_plan=e.data.plan,e.data.basic&&(this.site.token=null),RW.IDENTIFICATION.IP!==this.visitor.identifyBy||RW._isTrial()||RW._isProfessional()||(this.visitor.identifyBy=RW.IDENTIFICATION.LOCAL_ACOUNT,console.warn("ratingwidget: IP visitor identification is not supported in your plan. Please upgrade to Professional (http://rating-widget.com/pricing/).")),this.site.id=e.data.user.huid,this.Ad=new RW.Ads(e.data.ads),_showRecommendations=e.data.recommendations,_showSponsoredRecommendations=e.data.showSponsored,this.site.category=e.data.site.category,this.visitor.country=e.data.visitor.country,RW._is(e.data.visitor.id)&&(this.visitor.gid=e.data.visitor.id),this.Sponsored=new RW.Rec,this.Sponsored.preload(),this._foreach(_recommendations,function(e){e.postRender()});for(var t=e.data.ratings,i=0,n=t.length;i<n;i++)undef!==t[i].turid&&(_ratings[t[i].urid]=_ratings[t[i].turid],delete _ratings[t[i].turid],_ratings[t[i].urid].turid=t[i].turid),_ratings[t[i].urid].initData(t[i]);RW._is(e.data.settings.site)&&(goptions=RW._extandObj(RW.getGlobalOptions(),e.data.settings.site)),this._resourceLoaded("data");var r={},o={};if(render_options.optimized){for(var s in _ratings)r=RW._extandObj(r,_ratings[s].getRequiredResources());for(var a in RW.TYPE)if(r[RW.TYPE[a]])for(var l in r[RW.TYPE[a]].theme)for(var u in r[RW.TYPE[a]].theme[l])o[u]=!0}RW.Com.jsonp(RW._jsUrl("api/resources.js"),{data:render_options.optimized?[{name:"lngs",value:RW._keys(r.lng).join(",")},{name:"themes",value:RW._keys(o).join(",")}]:[{name:"all",value:""}],isStatic:!0}),render_options.optimized&&delete r.lng,RW.Com.asyncCss(RW._cssUrl("widget/theme.css"),{data:[render_options.optimized?{name:"data",value:encodeURIComponent(RW.JSON.stringify(r))}:{name:"all",value:""},{name:"huid",value:RW.site.id}],isLoaded:_isDynamicCssLoaded,callback:function(){RW._resourceLoaded("dcss")}})},_updateCallback:function(e){},_resourceCallback:function(e){for(var t in coptions)RW._is(coptions[t].imgUrl)&&RW._addCustomImgStyle(coptions[t].imgUrl,[coptions[t].type],"class",t);for(var i in RWT)RW._is(RWT[i].options.imgUrl)&&RW._addCustomImgStyle(RWT[i].options.imgUrl,[RWT[i].options.type],"theme",i);_isMobile=undef!==e&&!0===e.isMobile,this.visitor.mobile=_isMobile,undef!==e&&undef!==e.device&&(this.visitor.device.type=e.device,this.visitor.device.os=e.os,this.visitor.device.browser=e.browser),this._resourceLoaded("resources")},_visitorLoadCallback:function(e){e.success&&(this.visitor.gid=e.data.visitor.id)},_rateCallback:function(e,t){_rateCallback(e,t)},_likeCallback:function(e,t){_rateCallback(e,t)},_identify:function(e){this._isString(e.uid)&&32===e.uid.length?this.site.key=e.uid.toLowerCase():this._error("Invalid site public-key."),this._is(e.vid)&&this._setVisitorID(e.vid),this._is(e.token)&&this._is(e.token.token)&&this._isString(e.token.token)&&32==e.token.token.length&&this._is(e.token.timestamp)&&this._isNumeric(e.token.timestamp)&&(this.site.token={timestamp:e.token.timestamp,token:e.token.token}),this._is(e.huid)&&(!this._isNumeric(e.huid)||parseInt(e.huid,10)<0?this._error("Invalid site id."):this.site.id=parseInt(e.huid,10)),this.site.type=(e.source||this.site.type).toLowerCase(),this.site.page.url=this._def(e.url,this.site.page.url).toString(),this.visitor.identifyBy=e.identifyBy||this.visitor.identifyBy},_extandObj:function(e,t){if(null==e)return this._cloneObj(t);if(null==t||"object"!=typeof t)return e;for(var i in t)t.hasOwnProperty(i)&&(e.hasOwnProperty(i)?"object"==typeof e[i]&&this._extandObj(e[i],t[i]):e[i]=this._cloneObj(t[i]));return e},_cloneObj:function(e){if(null==e||"object"!=typeof e)return e;var t;if(RW._isArray(e)){t=[];for(var i=0;i<e.length;i++)t.push(e[i])}else{t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=this._cloneObj(e[n]))}return t},obj2Uri:function(e){return encodeURIComponent(JSON.stringify(e)).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},uri2obj:function(e){return JSON.parse(decodeURIComponent(e.replace(/\%21/g,"!").replace(/\%27/g,"'").replace(/\%28/g,"(").replace(/\%29/g,")").replace(/\%2A/g,"*").replace(/\+/g,"%20")))},getPrimaryRating:function(){if(0==_count)return!1;if(1==_count)return _ratings[RW._keys(_ratings)[0]];var e,t=0,i=!1;for(var n in _ratings){var r=_ratings[n];if(!r.getOption("readOnly")&&(e=r.getOption("rclass"),"page"!==e&&"blog-post"!==e&&"front-post"!==e&&"product"!==e||(i=r,t++),t>1))return!1}return i},getRating:function(e){return RW._isNumeric(e)&&RW._is(_ratings[e])?_ratings[e]:undef},getRatings:function(){return _ratings},getTopRatedWidgets:function(){return _recommendations},_getClassOptions:function(e){return!!this._is(coptions[e])&&coptions[e]},_getThemeOptions:function(e){return!(!this._is(RWT[e])||!this._is(RWT[e]))&&RWT[e].options},_addCustomImgStyle:function(e,t,i,n){var r="rw_"+i+"_"+n+"_custom_style",o=".rw-"+i+"-"+n,s=RW._getById(r);RW._is(s)&&s.parentNode.removeChild(s),s=doc.createElement("style"),s.type="text/css",s.rel="stylesheet",s.id=r,doc.getElementsByTagName("head")[0].appendChild(s);for(var a="",l=0,u=t.length;l<u;l++)a+=t[l]==RW.TYPE.STAR?o+".rw-ui-star.rw-ui-container.rw-style-custom .rw-ui-stars li { background-image: url('"+e.ltr+"'); }\n"+o+".rw-rtl.rw-ui-star.rw-ui-container.rw-style-custom .rw-ui-stars li { background-image: url('"+e.rtl+"'); }\n":o+".rw-ui-nero.rw-ui-container.rw-style-custom .rw-ui-like-icon,\n"+o+".rw-ui-nero.rw-ui-container.rw-style-custom .rw-ui-dislike-icon\n{ background-image: url('"+e.ltr+"'); }"+o+".rw-rtl.rw-ui-nero.rw-ui-container.rw-style-custom .rw-ui-like-icon,\n"+o+".rw-rtl.rw-ui-nero.rw-ui-container.rw-style-custom .rw-ui-dislike-icon\n{ background-image: url('"+e.rtl+"'); }";if(s.styleSheet)s.styleSheet.cssText=a;else{var c=doc.createTextNode(a);s.appendChild(c)}},_def:function(e,t,i,n){return!this._is(e)||this._is(n)&&e===n||this._is(i)&&(i==this._TYPE.BOOL&&!this._isBoolean(e)||i==this._TYPE.NUM&&!this._isNumeric(e)||i==this._TYPE.STRING&&!this._isString(e)||i==this._TYPE.SIZE&&!this._isSize(e)||i==this._TYPE.DIR&&!this._isDir(e)||i==this._TYPE.ALIGN_HOR&&!this._isHorAlign(e)||i==this._TYPE.ALIGN_VER&&!this._isVerAlign(e)||i==this._TYPE.RTYPE&&!this._isRatingType(e))?t:e},_get:function(e,t){var i=e.split(" ");RW._isArray(t)||(t=[t]);for(var n=0,r=i.length;n<r;n++)if(t=this._getSimple(i[n],t),null==t)return null;return t},_getSimple:function(e,t){var i=!1,n=[],r="*",o="",s="tag",a=!1,l=!1;RW._isArray(t)||(t=[t]);for(var u=0,c=e.length;u<c+1;u++){if(c===u)a=s,l=!0;else switch(e[u]){case"#":a=s,s="id",l=!0;break;case".":a=s,s="class",l=!0;break;default:o+=e[u],l=!1}if(l&&!o.isEmpty()){switch(a){case"id":i=o;break;case"class":n.push(o);break;case"tag":r=o}o=""}}var d=[];if(!1!==i){var f=RW._getById(i);f&&(d=[f])}else if(0<n.length)for(var p=0,R=t.length;p<R;p++)d=d.concat(this._getByClassName(n,r,t[p]));else for(var p=0,R=t.length;p<R;p++)d=d.concat(this._getByTagName(r,t));return 0<d.length?d:null},_getFirst:function(e,t){var i=this._get(e,t);return i&&i.length>0?i[0]:null},_getById:function(e){return doc.getElementById(e)},_getByTagName:function(e,t){return t=t||doc,t.getElementsByTagName(e)},_getFirstByTagName:function(e,t){var i=this._getByTagName(e,t);return i.length>0?i[0]:null},_getFirstByClassName:function(e,t,i){var n=this._getByClassName(e,t,i);return n.length>0?n[0]:null},_getByClassName:function(e,t,i){RW._isString(e)&&(e=[e]);for(var n=[],r=0,o=e.length;r<o;r++)e[r]=e[r].trim(),e[r].isEmpty()||n.push(e[r]);var s=i||doc,a=t||"*",l="*"==a&&s.all?s.all:s.getElementsByTagName(a);return 0===n.length?l:this._filterElements(l,function(e){return RW._Class.has(e,n)})},_getFirstByAttr:function(e,t,i,n,r){var o=this._getByAttr(e,t,i,n,r);return o.length>0?o[0]:null},_getByAttr:function(e,t,i,n,r){i=i||"";var o=this._getByClassName(i,n,r);return this._filterElements(o,function(i){return RW._hasAttr(i,e)&&(""===t||t==i.getAttribute(e))})},_hasAttr:function(e,t){if(e.hasAttribute)return e.hasAttribute(t);var i=e.getAttribute(t);return!(null===i||""===i)},_typeOf:function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array||!(e instanceof Object)&&"[object Array]"==Object.prototype.toString.call(e)||"number"==typeof e.length&&typeof e.splice!=UNDEF&&typeof e.propertyIsEnumerable!=UNDEF&&!e.propertyIsEnumerable("splice"))return"array";if(!(e instanceof Object||"[object Function]"!=Object.prototype.toString.call(e)&&(typeof e.call==UNDEF||typeof e.propertyIsEnumerable==UNDEF||e.propertyIsEnumerable("call"))))return"function"}else if("function"==t&&typeof e.call==UNDEF)return"object";return t},_isDefined:function(e){return typeof e!=UNDEF},_isNull:function(e){return null===e},_is:function(e){return null!=e},_isUndefinedOrNull:function(e){return null==e},_isString:function(e){return"string"==typeof e},_isBoolean:function(e){return"boolean"==typeof e},_isNumber:function(e){return"number"==typeof e},_isNumeric:function(e){return!isNaN(parseFloat(e))},_isRatingType:function(e){return this._isString(e)&&(e==this.TYPE.STAR||e==this.TYPE.NERO)},_isSize:function(e){return this._isString(e)&&(e==this.SIZE.SMALL||e==this.SIZE.MEDIUM||e==this.SIZE.LARGE)},_isDir:function(e){return this._isString(e)&&(e==this.DIR.LTR||e==this.DIR.RTL)},_isHorAlign:function(e){return this._isString(e)&&(e==this.ALIGN.HOR.LEFT||e==this.ALIGN.HOR.CENTER||e==this.ALIGN.HOR.RIGHT)},_isVerAlign:function(e){return this._isString(e)&&(e==this.ALIGN.VER.TOP||e==this.ALIGN.VER.MIDDLE||e==this.ALIGN.VER.BOTTOM)},_isArray:function(e){return this._is(e)&&"array"==this._typeOf(e)},_isNotEmptyArray:function(e){return this._isArray(e)&&e.length>0},_isNotEmptyString:function(e){return RW._isString(e)&&!e.isEmpty()},_isFun:function(e){return"function"==this._typeOf(e)},_error:function(e){throw console.error("ratingwidget: "+e),"ratingwidget: "+e},_guid:function(){var e=new Date;return e.getTime()},_getStyle:function(e,t){var i=undef;return RW._is(e.currentStyle)?(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),i=e.currentStyle):window.getComputedStyle&&(i=doc.defaultView.getComputedStyle(e,null)),i!==undef?i[t]:i},_filterElements:function(e,t,i){for(var n=this._isFun(i),r=[],o=0,s=e.length;o<s;o++)t(e[o])&&(n?r.push(i(e[o])):r.push(e[o]));return r},_foreach:function(e,t){if(RW._is(e))for(var i=0,n=e.length;i<n;i++)t(e[i],i)},_isTrial:function(){return"trial"===_plan},_isFree:function(){return!_isPremium},_isPaid:function(){return _isPremium},_isProfessional:function(){return"premium"===_plan||"professional"===_plan||"business"===_plan},_isPremium:function(){return _isPremium},_isMobile:function(){return _isMobile},_showRecommendations:function(){return _showRecommendations},_showSponsoredRecommendations:function(){return _showSponsoredRecommendations},_monetizeTopRated:function(){return LOCALHOST||RW.getDomain().endsWith("pravda-tv.ru")},_invokeHook:function(pHook){if(eval("typeof("+pHook+") !== UNDEF")&&(eval("pHook = "+pHook),RW._isArray(pHook)))for(var h=0,h_len=pHook.length;h<h_len;h++)if(typeof pHook[h]!==UNDEF&&RW._isFun(pHook[h]))try{pHook[h]()}catch(e){RW._error(e)}},_sum:function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i];return t},_url:function(e){return WWW+e.ltrim("/")},_tmbUrl:function(e,t,i){return WWW_TMB+"?zc=1&w="+t+"&h="+i+"&src="+encodeURIComponent(e)},_imgUrl:function(e){return WWW_IMG+e.ltrim("/")},_jsUrl:function(e){return WWW_JS+e.ltrim("/")},_cssUrl:function(e){return WWW_CSS+e.ltrim("/")},_setAttr:function(e,t,i){if(this._isString(t))e.setAttribute(t,i);else for(var n in t)e.setAttribute(n,t[n]);return e},_setVisitorID:function(e,t){t=t||!1,!this._isNumeric(e)||parseInt(e,10)<0?this._error("Invalid visitor id."):this.visitor[t?"gid":"id"]=parseInt(e,10)},iterate:function(e,t,i){if(!RW._isArray(t))return e.apply(RW._Class,[t].concat(i));for(var n,r=0,o=t.length;r<o;r++)n=e.apply(RW._Class,[t[r]].concat(i));return n},width:function(e){return e.getBoundingClientRect().width},height:function(e){return e.getBoundingClientRect().height},docOffset:function(){return{top:win.pageYOffset||docElem.scrollTop,left:win.pageXOffset||docElem.scrollLeft}},browserWidth:function(){return Math.max(this.width(body),this.width(doc.documentElement))},offset:function(e){var t=e.getBoundingClientRect(),i=this.docOffset(),n=docElem.clientTop||body.clientTop||0,r=docElem.clientLeft||body.clientLeft||0,o={top:0,left:0},s=RW._getStyle(body,"position")||"",a=RW._getStyle(docElem,"position")||"",l="absolute"===s||"fixed"===s||"relative"===s,u="absolute"===a||"fixed"===a||"relative"===a,c={top:parseFloat(RW._getStyle(body,"marginTop"))||0,left:parseFloat(RW._getStyle(body,"marginLeft"))||0},d={top:parseFloat(RW._getStyle(docElem,"marginTop"))||0,left:parseFloat(RW._getStyle(docElem,"marginLeft"))||0};return(l||u)&&(l&&(o.top+=c.top,o.left+=c.left),(l||u)&&(o.top+=d.top,o.left+=d.left)),{top:t.top+i.top-n-o.top,left:t.left+i.left-r-o.left}},hide:function(e){e.style.display="none"},show:function(e,t){t=!RW._is(t)||t,!1===t?RW.hide(e):e.style.display=""},remove:function(e){RW._is(e)&&e.parentNode.removeChild(e)},isVisible:function(e){if(!RW._is(e)||"none"==RW._getStyle(e,"display"))return!1;var t=e.getBoundingClientRect();return 0!==t.top||0!==t.left||0!==t.bottom||0!==t.right},getDomain:function(e){var t=(e||window.location.toString()).match(_DOMAIN_REGEX);return t&&t[1]},attachEvent:function(e,t,i){e.addEventListener?e.addEventListener(t,i,!0):e.attachEvent&&e.attachEvent("on"+t,i)},_setRecommendations:function(e){var t=RW._getByAttr("data-id",e.id,"rw-ui-recommendations");if(0!==t.length){var i=new RW.TopRated.Widget(t,e);_recommendations.push(i),i.render()}},prependChild:function(e,t){return 0===e.children.length&&e.appendChild(t),RW.insertBefore(t,e.firstChild)},insertBefore:function(e,t){t.parentNode.insertBefore(e,t)},insertAfter:function(e,t){null!==t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e)},getFirstNode:function(e){for(var t=e.firstChild;1!=t.nodeType;)t=t.nextSibling;return t},mouseOut:function(e,t){RW.attachEvent(e,"mouseout",function(i){var n=i.toElement||i.relatedTarget;RW._is(n)&&n!=this&&n.parentNode!=this&&t.apply(e,[i])})},_renderPoweredBy:function(e,t){return t=t||"Powered by",'<div class="rw-ui-poweredby">    '+t+' <a href="'+e+'" target="_blank" rel="nofollow"><em></em> <b>Rating</b><i>Widget</i></a></div>'},executeWhen:function(e,t,i){return e()?t():void setTimeout(function(){RW.executeWhen(e,t,i)},i)},isConnected:function(){return this._is(this.visitor.gid)},shouldConnect:function(){return RW.IDENTIFICATION.ACCOUNT===RW.visitor.identifyBy&&!RW.isConnected()},connectUrl:function(){return RW._url("/action/widget/visitor/signin/facebook.php?site_id="+this.site.id)},isLocalhost:function(){return LOCALHOST},elapsedTime:function(){return Math.round(((new Date).getTime()-_timestamp.getTime())/1e3)},isLocalizedNumbers:function(e){return RW._is(RWL[e].numbers)},localizeNumber:function(e,t){if(!this.isLocalizedNumbers(t))return e;var i="";e=e.toString();for(var n=0;n<e.length;n++)i+=isNaN(e[n])?e[n]:RWL[t].numbers[e[n]];return i}}}(),RW.Com=function(){var e=function(e){var t=doc.createElement("link");return t.type="text/css",t.rel="stylesheet",t.href=e,t.media="screen",t},t="",n=function(){return"callback"+RW._guid()};return RW._isNotEmptyString(window.navigator.platform)&&(t+=window.navigator.platform[0]),RW._isNotEmptyString(window.navigator.appCodeName)&&(t+=window.navigator.appCodeName[0]),RW._isNotEmptyString(window.navigator.appName)&&(t+=window.navigator.appName[0]),RW._isNotEmptyString(window.navigator.product)&&(t+=window.navigator.product[0]),RW._isNotEmptyString(window.navigator.vendor)&&(t+=window.navigator.vendor[0]),RW._isNotEmptyString(window.navigator.userAgent)&&(t+=window.navigator.userAgent[0]+window.navigator.userAgent[window.navigator.userAgent.length-1]),{toQueryString:function(e){for(var t="",i=0,n=e.length;i<n;i++)t+=(i>0?"&":"")+e[i].name+"="+e[i].value;return t},toNameValue:function(e){var t=[];for(var i in e)t.push({name:i,value:e[i]});return t},fromNameValue:function(e){var t={};for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];t[n.name]=n.value}return t},getUrl:function(e,t){return t.length>0&&(e+=e.indexOf("?")+1?"&":"?"),e+this.toQueryString(t)},asyncCss:function(t,i){if(i=RW._extandObj(i,{cycle:50,timeout:5e3,data:[],callback:null,success:null,failure:null,isLoaded:null}),null!==i.isLoaded&&i.isLoaded())return null!==i.success&&i.success(),void(null!==i.callback&&i.callback());i.data.push({name:"v",value:version});var n=RW._getFirstByTagName("head"),r=e(this.getUrl(t,i.data));n.appendChild(r);var o=doc.createElement("div");if(body.appendChild(o),o.innerHTML='<i class="rw-action-loader" style="position: fixed; top: -1000px;"></i>',null!==i.isLoaded&&(null!==i.callback||null!==i.success||null!==i.failure)){var s=function(){i.timeout-=i.cycle,i.isLoaded()?(null!==i.success&&i.success(),null!==i.callback&&i.callback()):i.timeout>0?setTimeout(s,i.cycle):(console.warn("Async stylesheet include timeouted."),null!==i.failure&&i.failure(),null!==i.callback&&i.callback())};setTimeout(s,i.cycle)}},enrichRequest:function(e,n){if(e.push({name:"v",value:version}),e.push({name:"sw",value:screen.width}),e.push({name:"sh",value:screen.height}),e.push({name:"sd",value:screen.pixelDepth
}),e.push({name:"uid",value:RW.site.key}),RW._is(RW.site.id)&&e.push({name:"huid",value:RW.site.id}),n)e.push({name:"fp",value:t});else{if(RW.visitor.device.id!==EMPTY_PCID&&e.push({name:"pcid",value:RW.visitor.device.id}),e.push({name:"by",value:RW.visitor.identifyBy}),e.push({name:"et",value:RW.elapsedTime()}),RW._is(RW.visitor.id)){var r=!1;for(i=0,len=e.length;i<len;i++)if("vid"==e[i].name){r=!0;break}r||e.push({name:"vid",value:RW.visitor.id})}RW._is(RW.visitor.gid)&&e.push({name:"vgid",value:RW.visitor.gid}),RW._is(RW.site.token)&&(e.push({name:"token",value:RW.site.token.token}),e.push({name:"timestamp",value:RW.site.token.timestamp})),e.push({name:"source",value:encodeURIComponent(RW.site.type)}),e.push({name:"url",value:encodeURIComponent(RW.site.page.url)}),e.push({name:"cguid",value:RW._guid()})}},addDailyCache:function(e){var t=new Date;e.push({name:"ck",value:"Y"+t.getFullYear()+"M"+t.getMonth()+"D"+t.getDate()})},appendJS:function(e,t){var i=doc.createElement("script");i.charset="utf-8",i.src=this.getUrl(e,t);var n=RW._getFirstByClassName("rw-js-container","div");null===n&&(n=RW._getFirstByTagName("head")),n.appendChild(i)},asyncJS:function(e,t){t=RW._extandObj(t,{data:[],isStatic:!1,dailyCache:!1}),this.enrichRequest(t.data,t.isStatic),t.dailyCache&&this.addDailyCache(t.data),this.appendJS(e,t.data)},jsonp:function(e,t){if(t=RW._extandObj(t,{data:[],isStatic:!1,dailyCache:!1,callback:null,success:null,failure:null}),null!=t.callback){var i=n();RW.Com[i]=function(){t.callback.apply(this,arguments),setTimeout(function(){delete RW.Com[i]},50)},t.data.push({name:"callback",value:"RW.Com."+i})}this.enrichRequest(t.data,t.isStatic),t.dailyCache&&this.addDailyCache(t.data),this.appendJS(e,t.data)}}}(),RW.JSON=function(){var e,t,i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r=function(e){return i.lastIndex=0,i.test(e)?'"'+e.replace(i,function(e){var t=n[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'},o=function(i,n){var s,a,l,u,c,d=e,f=n[i];switch(typeof f){case"string":return r(f);case"number":return isFinite(f)?String(f):"null";case"boolean":case"null":return String(f);case"object":if(!f)return"null";if(e+=t,c=[],"[object Array]"===Object.prototype.toString.apply(f)){for(u=f.length,s=0;s<u;s+=1)c[s]=o(s,f)||"null";return l=0===c.length?"[]":e?"[\n"+e+c.join(",\n"+e)+"\n"+d+"]":"["+c.join(",")+"]",e=d,l}for(a in f)Object.hasOwnProperty.call(f,a)&&(l=o(a,f),l&&c.push(r(a)+(e?": ":":")+l));return l=0===c.length?"{}":e?"{\n"+e+c.join(",\n"+e)+"\n"+d+"}":"{"+c.join(",")+"}",e=d,l}};return{stringify:function(e){return o("",{"":e})}}}(),RW.Cookie=function(e,t){var i,n=new Date,r="; path=/"+(RW._isString(e)?"; domain="+e:"");n.setTime(n.getTime()+63072e6);var o="; expires="+n.toGMTString(),s="; expires=Thu, 01 Jan 1970 00:00:01 GMT",a=function(){var e,t,i,n,r,o={},s=document.cookie.split(";");for(e=0;e<s.length;e+=1){t=s[e].split("="),i=t[0].replace(/^\s*/,"").replace(/\s*$/,"");try{n=decodeURIComponent(t[1])}catch(e){n=t[1]}try{r=n,n=JSON.parse(n)}catch(e){n=r}o[i]=n}return o},l=function(e,i){var n=a();return n[e]!==t?n[e]:i},u=function(e,t){document.cookie=e+"="+encodeURIComponent(RW._isString(t)?t:JSON.stringify(t))+r+o},c=function(e){document.cookie=e+"="+r+s};return{test:function(){if(t===i){var e="test",n="data";u(e,n),n!==l(e)?i=!1:(c(e),i=!0)}return i},get:function(e,t){return this.test()?l(e,t):t},set:function(e,t){this.test()&&u(e,t)},del:function(e){this.test()&&c(e)},contains:function(e){if(!this.test())return!1;var i=a();return i[e]!==t}}};var hasStorage=function(){try{return localStorage.setItem("t","t"),localStorage.removeItem("t"),!0}catch(e){return!1}}();undef!==hasStorage?RW.Storage=function(e){return{get:function(e,t){if(null==localStorage.getItem(e))return t;try{return JSON.parse(localStorage.getItem(e))}catch(i){return this.removeItem(e),t}},set:function(e,t){localStorage.setItem(e,JSON.stringify(t))},del:function(e){localStorage.removeItem(e)},contains:function(e){return null!==localStorage.getItem(e)}}}():(RW.Storage=new RW.Cookie,RW.Storage.test()||(RW.Storage=function(e){var t={};return{get:function(e,i){return this.contains(e)?t[e]:i},set:function(e,i){t[e]=i},del:function(e){delete t[e]},contains:function(i){return e!==t[i]}}}())),RW.Ads=function(e,t){if(RW.Ads.prototype._singletonInstance)return RW.Ads.prototype._singletonInstance;RW.Ads.prototype._singletonInstance=this;var i,n=this,r=new RW.Cookie(DOMAIN),o="ads",s="rw-ads-pages",a=RW._extandObj(e,{width:468,height:60,html:"",tag:""}),l=!0,u=function(){i=t};n.stopCaching=function(){l=!1},n.get=function(){return t!==i&&l||(i=!a.tag.isEmpty()&&(!RW._isPremium()&&(!!this.isShowOnPage()&&a))),i},n.isShowOnPage=function(){for(var e=RW.Storage.get(s,[]),t=RW.site.page.url.toLowerCase(),i=0,n=e.length;i<n;i++)if(e[i]===t)return!1;return!0},n.setHideOnPage=function(){var e=RW.Storage.get(s,[]);e.push(RW.site.page.url.toLowerCase()),RW.Storage.set(s,e),u()},n.setShowOnPage=function(){for(var e=RW.Storage.get(s,[]),t=RW.site.page.url.toLowerCase(),i=[],n=0,r=e.length;n<r;n++)e[n]!==t&&i.push(e[n]);RW.Storage.set(s,i),u()},n.toggleShowOnPage=function(e){return t===e&&(e=!n.isShowOnPage()),e?n.setShowOnPage():n.setHideOnPage(),e},n.isOptIn=function(){return r.get(o,!0)},n.optOut=function(){r.set(o,!1)},n.optIn=function(){r.set(o,!0)}},RW.Rec=function(e,t){if(RW.Rec.prototype._singletonInstance)return RW.Rec.prototype._singletonInstance;RW.Rec.prototype._singletonInstance=this;var i,n=this,r=!1,o=function(e){if(!RW._is(i)||!RW._isArray(i.recs)||0===i.recs.length)return!1;if(e>=i.recs.length)return i.recs;if(!RW.Storage.contains("sponsored_clicks"))return i.recs.slice(0,e);for(var t=RW.Storage.get("sponsored_clicks"),n=[],r=0,o=i.recs.length;r<o;r++)!0!==t[i.recs[r].id]&&n.push(i.recs[r]);for(var r=0,o=i.recs.length;r<o;r++)!0===t[i.recs[r].id]&&n.push(i.recs[r]);return n.slice(0,e)},s=function(){return t!==i&&!r},a=function(e){if(!RW._is(e)||!RW._isArray(e.recs)||0===e.recs.length)return e;for(var t=0;t<e.recs.length;t++)e.recs[t].domain=RW.getDomain(e.recs[t].url)},l=function(e){var t=[];return RW._foreach(e,function(e,i){t.push({site:{id:e.partner_id,domain:e.domain,category:e.category_id},page:{externalID:Math.abs(e.id||e.postId),url:e.url,trackUrl:e.clickUrl,title:e.title,description:e.description,img:RW._tmbUrl(RW._isNotEmptyString(e.thumbnail_path)?e.thumbnail_path:e.url,50,40),sponsored:!0}})}),t},u=function(){var e=RW.getTopRatedWidgets(),t=l(n.get(3));RW._foreach(t,function(e,t){e.page.sponsored=!0}),RW._foreach(e,function(e,i){e.addItems({itemGroups:[{type:"posts",items:t}]})})};n.preload=function(){if(s())return!0;if(r)return!1;if(RW._showSponsoredRecommendations()||RW._monetizeTopRated()){r=!0;var e=!RW._monetizeTopRated()||LOCALHOST?29538:42821,t=!RW._monetizeTopRated()||LOCALHOST?33518:46896;RW.Com.jsonp("http://api.grazeit.com:8080/rec-api/getrecs.json",{isStatic:!0,data:[{name:"cb",value:encodeURIComponent("RW.Rec()._sponsoredCallback")},{name:"pubid",value:84869},{name:"webid",value:t},{name:"wid",value:e},{name:"recsnum",value:3},{name:"url",value:encodeURIComponent(RW.site.page.url)},{name:"cguid",value:RW._guid()}]})}else i=!1;return!1},n.get=function(e){return limt=e||1,o(e)},n.count=function(){return s()&&!1!==i&&RW._isArray(i.recs)?i.recs.length:0},n.set=function(e){i=e,a(i)},n.append=function(e){return RW._is(i)&&RW._isArray(i.recs)?void(RW._is(e)&&RW._isArray(e.recs)&&0<e.recs.length&&(a(e),i.recs=i.recs.concat(e.recs))):void n.set(e)},n.clicked=function(e){var t=RW.Storage.get("sponsored_clicks",{});t[e]=!0,RW.Storage.set("sponsored_clicks",t)},n._sponsoredCallback=function(e){n.set(e),r=!1,0<n.count()&&RW._monetizeTopRated()&&u()}},RW._Set=function(){var e=function(e){return e=RW._def(e,{}),e.imgUrl=RW._def(e.imgUrl,{}),e.mobile=RW._def(e.mobile,{}),e.boost=RW._def(e.boost,{}),e.label=RW._def(e.label,{}),e.label.text=RW._def(e.label.text,{}),e.label.text.star=RW._def(e.label.text.star,{}),e.label.text.nero=RW._def(e.label.text.nero,{}),e.advanced=RW._def(e.advanced,{}),e.advanced.star=RW._def(e.advanced.star,{}),e.advanced.nero=RW._def(e.advanced.nero,{}),e.advanced.nero.text=RW._def(e.advanced.nero.text,{}),e.advanced.nero.text.like=RW._def(e.advanced.nero.text.like,{}),e.advanced.nero.text.dislike=RW._def(e.advanced.nero.text.dislike,{}),e.advanced.font=RW._def(e.advanced.font,{}),e.advanced.font.hover=RW._def(e.advanced.font.hover,{}),e.advanced.layout=RW._def(e.advanced.layout,{}),e.advanced.layout.align=RW._def(e.advanced.layout.align,{}),e.advanced.text=RW._def(e.advanced.text,{}),e.advanced.css=RW._def(e.advanced.css,{}),e},t=function(e){if(RW._is(e)&&RW._is(e.lng)){var t=e.lng,i=e.advanced.layout;i.dir=RW._def(i.dir,RWL[t].dir),i.align.hor=RW._def(i.align.hor,RWL[t].align.hor);for(var n in RW._defaultOptions.advanced.text)e.advanced.text[n]=RW._def(e.advanced.text[n],RWL[t].text[n],RW._TYPE.STRING,DUMMY_STR)}},i=function(e){if(RW._is(e)&&RW._is(e.size)){var t=e.size.toUpperCase(),i=e.advanced;i.font.size=RW._def(i.font.size,RW._DEF_FONT_SIZE[t]),i.layout.lineHeight=RW._def(i.layout.lineHeight,RW._DEF_LINE_HEIGHT[t])}},n=function(e){for(var t="#",i=1,n=e.length;i<n;i++)t+=e[i]+e[i];return t};return{merge:function(n,r){if(RW._isNotEmptyArray(n)){for(var o=RW._cloneObj(n[0]),s=1,a=n.length;s<a;s++)o=RW._extandObj(o,n[s]);return e(o),i(o),t(o),o=RW._extandObj(o,r)}},getOption:function(e,t,i){for(var n=0,r=e.length;n<r;n++)if(RW._is(e[n])&&RW._isNotEmptyString(e[n][t]))return e[n][t];return i},enrichedCopy:function(r,o){r=e(r),i(r),t(r);var s=e(),a=s.advanced,l=r.advanced,u=o.advanced,c=a.layout,d=a.font,f=l.font,p=u.font,R=a.text,g=l.text,h=u.text;s.afterRate=RW._def(r.afterRate,o.afterRate),s.beforeRate=RW._def(r.beforeRate,o.beforeRate),s.uarid=RW._def(r.uarid,o.uarid,RW._TYPE.NUM),s.lng=RW._def(r.lng,o.lng,RW._TYPE.STRING),s.url=RW._def(r.url,o.url,RW._TYPE.STRING),s.img=RW._def(r.img,o.img,RW._TYPE.STRING),s.title=RW._def(r.title,o.title,RW._TYPE.STRING),s.type=RW._def(r.type,o.type,RW._TYPE.RTYPE),s.rclass=RW._def(r.rclass,o.rclass,RW._TYPE.STRING),s.size=RW._def(r.size,o.size,RW._TYPE.SIZE),s.theme=RW._def(r.theme,o.theme,RW._TYPE.STRING),s.style=RW._def(r.style,o.style,RW._TYPE.STRING),s.readOnly=RW._def(r.readOnly,o.readOnly,RW._TYPE.BOOL),s.sync=RW._def(r.sync,o.sync,RW._TYPE.BOOL),s.forceSync=RW._def(r.forceSync,o.forceSync,RW._TYPE.BOOL),s.reVote=RW._def(r.reVote,o.reVote,RW._TYPE.BOOL),s.frequency=RW._def(r.frequency,o.frequency,RW._TYPE.NUM),s.showInfo=RW._def(r.showInfo,o.showInfo,RW._TYPE.BOOL),s.showTooltip=RW._def(r.showTooltip,o.showTooltip,RW._TYPE.BOOL),s.showAverage=RW._def(r.showAverage,o.showAverage,RW._TYPE.BOOL),s.showReport=RW._def(r.showReport,o.showReport,RW._TYPE.BOOL),s.showLoader=RW._def(r.showLoader,o.showLoader,RW._TYPE.BOOL),s.showRecommendations=RW._def(r.showRecommendations,o.showRecommendations,RW._TYPE.BOOL),s.hideRecommendations=RW._def(r.hideRecommendations,o.hideRecommendations,RW._TYPE.BOOL),s.showSponsored=RW._def(r.showSponsored,o.showSponsored,RW._TYPE.BOOL),RW._isString(r.imgUrl)&&(r.imgUrl={ltr:r.imgUrl,rtl:r.imgUrl}),s.imgUrl.ltr=RW._def(r.imgUrl.ltr,o.imgUrl.ltr,RW._TYPE.STRING),s.imgUrl.rtl=RW._def(r.imgUrl.rtl,o.imgUrl.rtl,RW._TYPE.STRING),s.mobile.optimized=RW._def(r.mobile.optimized,o.mobile.optimized,RW._TYPE.BOOL),s.mobile.showTrigger=RW._def(r.mobile.showTrigger,o.mobile.showTrigger,RW._TYPE.BOOL),s.boost.votes=RW._def(r.boost.votes,o.boost.votes,RW._TYPE.NUM),s.boost.rate=RW._def(r.boost.rate,o.boost.rate,RW._TYPE.NUM),s.boost.votes<0&&(s.boost.votes=0),s.label.background=RW._def(r.label.background,o.label.background,RW._TYPE.STRING),s.label.text.star.empty=RW._def(r.label.text.star.empty,o.label.text.star.empty,RW._TYPE.STRING),s.label.text.star.normal=RW._def(r.label.text.star.normal,o.label.text.star.normal,RW._TYPE.STRING),s.label.text.star.rated=RW._def(r.label.text.star.rated,o.label.text.star.rated,RW._TYPE.STRING),s.label.text.nero.empty=RW._def(r.label.text.nero.empty,o.label.text.nero.empty,RW._TYPE.STRING),s.label.text.nero.normal=RW._def(r.label.text.nero.normal,o.label.text.nero.normal,RW._TYPE.STRING),s.label.text.nero.rated=RW._def(r.label.text.nero.rated,o.label.text.nero.rated,RW._TYPE.STRING),a.star.stars=RW._def(l.star.stars,u.star.stars,RW._TYPE.NUM),a.nero.showDislike=RW._def(l.nero.showDislike,u.nero.showDislike,RW._TYPE.BOOL),a.nero.showLike=RW._def(l.nero.showLike,u.nero.showLike,RW._TYPE.BOOL),a.nero.text.like.empty=RW._def(l.nero.text.like.empty,u.nero.text.like.empty,RW._TYPE.STRING),a.nero.text.like.rated=RW._def(l.nero.text.like.rated,u.nero.text.like.rated,RW._TYPE.STRING),a.nero.text.dislike.empty=RW._def(l.nero.text.dislike.empty,u.nero.text.dislike.empty,RW._TYPE.STRING),a.nero.text.dislike.rated=RW._def(l.nero.text.dislike.rated,u.nero.text.dislike.rated,RW._TYPE.STRING),d.bold=RW._def(f.bold,p.bold,RW._TYPE.BOOL),d.italic=RW._def(f.italic,p.italic,RW._TYPE.BOOL),d.color=RW._def(f.color,p.color,RW._TYPE.STRING),d.type=RW._def(f.type,p.type,RW._TYPE.STRING),d.size=RW._def(f.size,p.size,RW._TYPE.STRING),d.hover.color=RW._def(f.hover.color,p.hover.color,RW._TYPE.STRING),s.label.background.startsWith("#")&&4==s.label.background.length&&(s.label.background=n(s.label.background)),d.color.startsWith("#")&&4==d.color.length&&(d.color=n(d.color)),d.hover.color.startsWith("#")&&4==d.hover.color.length&&(d.hover.color=n(d.hover.color)),c.dir=RW._def(l.layout.dir,u.layout.dir,RW._TYPE.DIR),c.align.hor=RW._def(l.layout.align.hor,u.layout.align.hor,RW._TYPE.ALIGN_HOR),c.align.ver=RW._def(l.layout.align.ver,u.layout.align.ver,RW._TYPE.ALIGN_VER),c.lineHeight=RW._def(l.layout.lineHeight,u.layout.lineHeight,RW._TYPE.STRING);for(var _ in h)R[_]=RW._def(g[_],h[_],RW._TYPE.STRING);return a.css.container=RW._def(r.advanced.css.container,o.advanced.css.container,RW._TYPE.STRING),s}}}(),RW._Class=function(){var e=[],t=function(t){return t=t.trim(),RW._isUndefinedOrNull(e[t])&&(e[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),e[t]},i={_set:function(e,t){RW._is(e)&&(e.className=t)},set:function(e,t){RW.iterate(i._set,e,[t])},_clear:function(e){i.set(e,"")},clear:function(e,t){RW.iterate(i._clear,e,[t])},_has:function(e,i){if(!RW._is(e)||!RW._is(i))return!1;RW._isString(i)&&(i=[i]);for(var n,r=0,o=i.length;r<o;r++)if(n=i[r].trim(),!n.isEmpty()&&!t(n).test(e.className))return!1;return!0},has:function(e,t){return RW.iterate(i._has,e,[t])},_add:function(e,t,n){if(RW._is(e)){RW._isString(t)&&(t=[t]);var r;RW._is(n)||(n="");for(var o=0,s=t.length;o<s;o++)r=t[o].trim(),r.isEmpty()||(r=n+r,i.has(e,r)||(e.className+=(e.className.isEmpty()?"":" ")+r,e.className.trim()))}},add:function(e,t,n){RW.iterate(i._add,e,[t,n])},_remove:function(e,n){i.has(e,n)&&(e.className=e.className.replace(t(n)," ").trim())},remove:function(e,t){RW.iterate(i._remove,e,[t])},_toggle:function(e,t,n){!1===n||!0!==n&&i.has(e,t)?i.remove(e,t):i.add(e,t)},toggle:function(e,t,n){RW.iterate(i._toggle,e,[t,n])},_replace:function(e,t,n){i.has(e,t)&&(i.remove(e,t),i.add(e,n))},replace:function(e,t,n){RW.iterate(i._replace,e,[t,n])},_override:function(e,t,n){i.remove(e,t),i.add(e,n)},override:function(e,t,n){RW.iterate(i._override,e,[t,n])}};return i}(),RW.Svg=function(){return{createElement:function(e){return doc.createElementNS(svgXmlns,e)},move:function(e){return"M"+e.x+","+e.y},line:function(e){return"L"+e.x+","+e.y},arc:function(e,t,i,n,r){return undef===r&&(r=0),undef===i&&(i=!1),undef===n&&(n=!0),"A"+e.x+","+e.y+" "+r+" "+(i?"1":"0")+","+(n?"1":"0")+" "+t.x+","+t.y},circleArc:function(e,t,i,n,r){return this.arc({x:e,y:e},t,i,n,r)},getRadialPos:function(e,t,i){return{x:e.x+t*Math.cos(Math.PI*i/180),y:e.y+t*Math.sin(Math.PI*i/180)}},getArcPath:function(e,t,i,n,r){var o=(n-i)%360>180,s=RW.Svg.move(this.getRadialPos(e,r,i))+" "+RW.Svg.line(this.getRadialPos(e,t,i))+" "+RW.Svg.circleArc(t,this.getRadialPos(e,t,n),o)+" "+RW.Svg.line(this.getRadialPos(e,r,n))+" "+RW.Svg.circleArc(r,this.getRadialPos(e,r,i),o,!1)+" z",a=this.createElement("path");return RW._setAttr(a,{d:s}),a}}}(),RW.Rating=function(e,t,i){var n,r=this,o=RW._getByAttr("data-urid",e,"rw-ui-container"),s=[],a="ready",l=!0,u=i,c=RW.getDefaultOptions(),d=RW.getGlobalOptions();r.huid=t.huid,r.uid=t.uid,r.urid=e,r.turid=null,r.rid=null,r.rate=null,r.votes=null,r.votesData=null,r.isRated=!1,r.lastVote=null,r.lastVoteRate=null,r.report=null,r.options=u,r.title="",r.img="",r.url="",r.rclass="",r.type=RW.TYPE.STAR;var f=function(){var e,t,i,n,r,o,a,l,u={lng:{},star:{theme:{},style:{}},nero:{theme:{},style:{}}};return RW._foreach(s,function(s){e=s.getClassOptions(),a=[s.options,e,d,c],l=[s.options,e,d],t=RW._Set.getOption(l,"lng",!1),!1!==t&&(u.lng[t]=!0),i=RW._Set.getOption(a,"type"),o=RW._Set.getOption(a,"size"),n=RW._Set.getOption(a,"style",!1),!1===n||RW.CUSTOM!==n.toLowerCase()||RW._isTrial()||RW._isProfessional()||(n=RW._DEF_STYLES[i.toUpperCase()],console.warn("Custom ratings image is not supported in your plan. Please upgrade to Professional (http://rating-widget.com/pricing/).")),!1!==n&&(RW._is(u[i].style[o])||(u[i].style[o]={}),u[i].style[o][n]=!0),r=RW._Set.getOption(a,"theme",!1),!1!==r&&(RW._is(u[i].theme[o])||(u[i].theme[o]={}),u[i].theme[o][r]=!0===u[i].theme[o][r]||!1===n),!1===n&&(RW._is(u[i].style[o])||(u[i].style[o]={}),u[i].style[o][RW._DEF_STYLES[i.toUpperCase()]]=!0)}),u},p=function(){return r.type[0]+"-"+(RW._isNotEmptyString(r.title)?"1":"0")+"-"+(RW._isNotEmptyString(r.rclass)?"1":"0")+"-"+(RW._isNotEmptyString(r.url)?"1":"0")+(RW._isNotEmptyString(r.img)?"-"+r.img.length:"")};r.distroy=function(){RW._foreach(o,function(e){RW.remove(e)}),s=null},r.initData=function(e){r.urid=e.urid,r.rid=e.rid,r.rate=parseFloat(e.rate),r.votes=Math.max(0,parseInt(e.votes,10)),r.rate=Math.max(0,Math.min(RW.MAX*e.votes,e.rate)),r.votesData=RW._isArray(e.votesData)?e.votesData:[],r.isRated=r.votesData.length>0,r.lastVote=r.isRated?r.votesData[0]:null,r.lastVoteRate=r.isRated?r.lastVote.rate:0,r.report=null,n=e.hash},r.getRequiredResources=function(){return f()},r.render=function(){for(var e=["title","img","url","rclass","type"],t=0,i=e.length;t<i;t++)r[e[t]]="";RW._foreach(s,function(t){t.render();for(var i=0,n=e.length;i<n;i++)""==r[e[i]]&&RW._isNotEmptyString(t.options[e[i]])&&(r[e[i]]=t.options[e[i]])}),r.url.isEmpty()&&(r.url=RW.site.page.url)},r.hideTooltip=function(){RW._is(RW._tooltip)&&(RW._tooltip.style.display="none")},r.hideReport=function(){RW.RatingReport.close(!0)},r.isSynced=function(){return n==p()},r.canRefresh=function(){return l},r.refresh=function(){RW._foreach(s,function(e){e.refresh()})},r.getOption=function(e,t){return undef===t&&(t=0),r.getInstances(t).options[e]},r.getInstances=function(e){return RW._isNumeric(e)?s[e]:s},r.getFirstInstance=function(){return r.getInstances(0)},r.getBoostedValues=function(){return r.getFirstInstance().getBoostedValues()},r.getState=function(){return a},r.setState=function(e){a=e},r.setReady=function(){r.setState("ready")},r.setCalling=function(){r.setState("calling")},r.voteBegin=function(){r.setCalling(),l=!1},r.voteEnd=function(){r.setReady(),l=!0},r.addReportVotes=function(e,t){for(var i=!1,n=0,o=r.report.length;n<o;n++)if(e===r.report[n].rate){r.report[n].votes+=t,i=!0;break}i||r.report.push({rate:e,votes:t})};var R=function(e,t){return undef===t&&(t=0),u&&u[e]?u[e]:s[t]&&s[t].options&&s[t].options[e]?s[t].options[e]:null},g=function(e){var t=window.location.toString().indexOf("DBG=")>-1;if(t||!e.isSynced()){var i={rid:e.rid.toString(),type:e.type,rclass:e.rclass.substring(0,64),title:e.title.substring(0,256),url:e.url.substring(0,512),img:e.img.substring(0,512)},n=[i];RW.Com.jsonp(RW._jsUrl("api/v2/rating/update.php"),{data:[{name:"ratings",value:encodeURIComponent(RW.JSON.stringify(n))}],callback:RW._updateCallback})}};r.afterRate=function(e){return R("afterRate")},r.beforeRate=function(e){return R("beforeRate")},r.voteCompleted=function(e,t,i,n){var o=!r.isRated;if(n=RW._def(n,!1),e){var a=r.votes,l=r.lastVoteRate;if(0!==r.rid||r.getFirstInstance().isDummy()||(r.rid=t.rid,g(r)),r.rate=parseFloat(t.rate),r.votes=Math.max(0,parseInt(t.votes,10)),r.rate=Math.max(0,Math.min(RW.MAX*r.votes,r.rate)),r.votesData=t.votesData,r.lastVote=r.votesData[0],r.lastVoteRate=r.lastVote.rate,RW._isNull(r.report)||(r.addReportVotes(r.lastVoteRate,1),a==r.votes&&r.addReportVotes(l,-1)),r.isRated=!0,undef!==t.accumulator){var u=RW.getRating(t.accumulator.urid);RW._is(u)&&(t.accumulator.votesData=t.votesData,u.voteCompleted(e,t.accumulator,i,!0))}}if(!n){var c=r.afterRate();c&&c(e,r.getFirstInstance().isThumb()?r.lastVoteRate===RW.LIKE_RATE:r.lastVoteRate,r,o,i)}r.voteEnd(),r.refresh(),e&&!n&&s[t.riid].showReport()},RW._foreach(o,function(e,t){s.push(new RW.RatingInstance(e,r,t))})},RW.RatingInstance=function(e,t,i){var n,r,o,s,a,l,u,c,d,f,p,R,g,h,_,m,W,v,y,w,b=this,T=null,S=RW.PREFIX+"-",C=S,E=b.rating=t,k=e,I=RW.getDefaultOptions(),O=function(t){return n=RW._extandObj(U(e),t)},N=function(){return'<img src="'+RW._imgUrl("widget/loader-14x14.gif")+'" alt="" style="border: none; width: 14px; height: 14px" />'},A=function(){w=RW.getGlobalOptions(),y=e.getAttribute("style"),""===e.style.display&&(e.style.display="inline-table");var t=!0;undef!==n&&undef!==n.showLoader?t=n.showLoader:undef!==w&&undef!==w.showLoader?t=w.showLoader:undef!==I&&undef!==I.showLoader&&(t=I.showLoader),e.innerHTML=t?N():""},L=function(e){for(var t=e.toLowerCase().split("-"),i=t[0],n=1,r=t.length;n<r;n++)i+=t[n].ucfirst();return i},x=function(e){if(!RW._isString(e))return e;switch(e){case"false":return!1;case"true":return!0;default:return e}},P=function(e){for(var t={},i=/^data\-(.+)$/,n=0,r=e.attributes.length;n<r;n++)i.test(e.attributes[n].nodeName)&&(t[L(e.attributes[n].nodeName.match(i)[1])]=x(e.attributes[n].value));return t},M=function(e){for(var t,i=["class","uarid","size","lng","theme","style","readOnly","valign","halign","forceSync","sync"],n={advanced:{layout:{align:{}}}},r=0,o=i.length;r<o;r++)if(t=RW._parseClassProperty(e,i[r],!1),!1!==t)switch(t=x(t),i[r]){case"class":n.rclass=t;break;case"valign":n.advanced.layout.align.ver=t;break;case"halign":n.advanced.layout.align.hor=t;break;default:n[i[r]]=t}return RW._Class.has(e,"rw-ui-star")&&(n.type="star"),RW._Class.has(e,"rw-ui-nero")&&(n.type="nero"),n},D=function(e){for(var t,i,n,r,o,s={},a="rw-prop-",l=RW._is(e.className)?e.className.split(" "):[],u=0,c=l.length;u<c;u++)l[u].startsWith(a)&&(t=l[u].substring(a.length),i=t.indexOf("-"),o=t.substring(0,i),n=t.substring(i+1),r=n.toLowerCase(),s[o]="true"===r||"false"!==r&&n);return RW._extandObj(s,M(e))},U=function(e){return RW._extandObj(P(e),D(e))},B=function(){d.star.stars=Math.max(RW.MIN_STARS,Math.min(RW.MAX_STARS,d.star.stars)),b.isStar()&&(u.boost.rate=Math.max(1,Math.min(d.star.stars,u.boost.rate)))},F=function(){u=n,d=c=u.advanced,p=f=c.font,R=f.hover,h=g=c.text,_=u.label,m=c.layout,W=m.align,v=u.type},Y=function(){b.options=u,b.type=v,b.advanced=d,b.align=W,b.text=h},z=function(){n=b.getCalculatedOptions(),F(),B(),Y()},G=function(e){return RW._getFirstByClassName("rw-ui-"+e+"-icon","i",k)},H=function(e){return RW._getFirstByClassName("rw-ui-"+e+"-label","span",k)},V=function(){return H("like")},j=function(){return H("dislike")},q=function(){return RW._getFirstByTagName("div",k)},X=function(){return u.showReport&&u.showAverage},J=function(){if(X()){var e=RW._getFirstByClassName("rw-ui-info-container","span",k);RW._is(e)&&(e.onmouseover=function(t){b.isReady()&&RW.RatingReport.open(b,e)},RW.mouseOut(e,function(e){b.isReady()&&RW.RatingReport.close()}))}},K=function(e){b.isActive()&&E.canRefresh()&&!RW._is(T)&&(T=setTimeout(function(){b.refresh()},200))},Z=function(e){return d.star.stars>RW.MAX?b.localizeNumber(e+1)+" / "+b.localizeNumber(d.star.stars):h[RW._TEXT_MAP.STAR[e]]},$=function(){var e=a;RW._foreach(e,function(e,t){e.onmouseover=function(i){if(b.isActiveAndReady()){clearTimeout(T),T=null;for(var n=E.isRated?E.lastVoteRate-1:-1,r=0,o=a.length;r<o;r++)r<=t?RW._Class.set(a[r],"rw-ui-star-"+r+" rw-ui-star-over"):RW._Class.set(a[r],"rw-ui-star-"+r+" rw-ui-star-"+(n<r?"preview":"selected"));b.setTooltip(Z(t))&&be(e)}},e.onmouseout=K,e.onclick=function(i){i=i||window.event,i.preventDefault(),b.isActiveAndReady()&&b.doRate(t+1,e,i)}}),ge()&&(l.onchange=function(e){"Powered By"===l.options[l.selectedIndex].parentNode.label?window.location=WWW+"?type=star&device=mobile":a[a.length-1-l.selectedIndex].onclick(e)})},Q=function(e,t){b.isActiveAndReady()&&(clearTimeout(T),T=null,b.setTooltip(h[t])&&be(e))},ee=function(e,t,i,n){b.isActiveAndReady()&&(RW._Class.add(e.parentNode,"rw-selected"),RW._is(t)&&RW._Class.remove(t.parentNode,"rw-selected"),i(e,n))},te=function(e,t){if(re(e)){var i=G(e),n=G(t),r=i;r.onclick=function(t){t=t||window.event,t.preventDefault(),ee(i,n,b[e],t)},r.onmouseover=function(t){Q(i,e)},r.onmouseout=K}},ie=function(){te("like","dislike"),te("dislike","like"),ge()&&(l.onchange=function(e){"Powered By"===l.options[l.selectedIndex].parentNode.label?window.location=WWW+"?type=star&device=mobile":G(l.options[l.selectedIndex].value).onclick(e)})},ne=function(){J(),k.onmouseover=function(e){b.isReady()&&(b.setLabelColor(R.color),b.setLabelBorderColor(p.color))},k.onmouseout=function(e){b.isReady()&&(b.setLabelColor(p.color),b.setLabelBorderColor(RW.Color.toRgba(p.color,.5)))},b.isStar()?$():b.isThumb()&&ie()},re=function(e){return d.nero["show"+e[0].toUpperCase()+e.substring(1)]},oe=function(e){return E[e+"s"]+(RW[e.toUpperCase()+"_RATE"]==u.boost.rate?u.boost.votes:0)},se=function(){for(var e=b.getBoostedValues(),t=e.votes>0?Math.round(e.rate/e.votes*2):0,i=(t-t%2)/2,n=0;n<i;n++)RW._Class.set(a[n],"rw-ui-star-"+n+" rw-ui-star-selected");t%2==1&&(RW._Class.set(a[i],"rw-ui-star-"+i+" rw-ui-star-half-selected"),i++);for(var r=i;r<d.star.stars;r++)RW._Class.set(a[r],"rw-ui-star-"+r)},ae=function(){var e=["like","dislike"];if(RW._foreach(e,function(e){re(e)&&(H(e).innerHTML=b.formatLabel(d.nero.text[e][E.isRated?"rated":"empty"]))}),E.isRated){e=E.lastVoteRate>0?e:e.reverse();var t=e[0],i=e[1];re(t)&&RW._Class.add(G(t).parentNode,"rw-selected"),re(i)&&RW._Class.remove(G(i).parentNode,"rw-selected")}},le=function(){return p.color===RW._defaultOptions.advanced.font.color?"":"color: "+p.color+";"},ue=function(){return p.type===RW._defaultOptions.advanced.font.type?"":"font-family: "+p.type+";"},ce=function(){return p.size===RW._DEF_FONT_SIZE[u.size.toUpperCase()]?"":"font-size: "+p.size+";"},de=function(){return m.lineHeight===RW._DEF_LINE_HEIGHT[u.size.toUpperCase()]?"":"line-height: "+m.lineHeight+";"},fe=function(){return RW._url("my-rating-report/"+v+"/"+u.style.replace(/\_/g,"-")+"/rating-"+E.rid+(b.isStar()?"-"+d.star.stars:"")+"/")},pe=function(){return'<a class="rw-report-link" target="_blank"'+(u.showReport?"":' title="Rating-Widget Report"')+' href="'+fe()+'" rel="nofollow"></a>'},Re=function(){return u.showInfo?'<span class="rw-ui-info-container">'+b.renderNub()+'<span class="rw-ui-info-inner-container"><span class="rw-ui-info" style="'+le()+ue()+ce()+de()+'"></span></span></span>':""},ge=function(){return RW._isMobile()&&!u.readOnly&&u.mobile.optimized},he=function(){var e="";ge()&&(e+=b.renderMobileDropdown()),e+='<ul class="rw-ui-stars">';for(var t="",i=0,n=d.star.stars;i<n;i++)e+='<li class="rw-ui-star-'+i+'">'+t+"</li>";return e+"</ul>"},_e=function(){return'<div class="rw-action-area">'+he()+(RW._isPremium()?"":pe())+"</div>"},me=function(){k.innerHTML=W.ver==RW.ALIGN.VER.TOP?Re()+_e():_e()+Re(),a=RW._getByTagName("li",k)},We=function(e){var t=e?"like":"dislike",i="";return'<span class="rw-ui-'+t+'"><i aria-label="'+h[t]+'" class="rw-ui-'+t+'-icon">'+i+'</i><span class="rw-ui-'+t+'-label" style="'+ue()+ce()+de()+'"></span></span>'},ve=function(){var e='<div class="rw-action-area">';if(ge()){var t=b.isActive()?"":' disabled="disabled"',i=E.isRated?E.lastVoteRate:-1;e+='<div class="rw-mobile-action-area"><select class="rw-ui-mobile-stars"><optgroup label="'+h.rateThis+'">',d.nero.showLike&&(e+="<option"+(5==i?' selected="selected"':t)+' value="like">'+h.like+"</option>"),d.nero.showDislike&&(e+="<option"+(5!=i?' selected="selected"':t)+' value="dislike">'+h.dislike+"</option>"),e+="</optgroup>"+(RW._isPremium()?"":'<optgroup label="Powered By"><option><a href="'+WWW+'" target="_blank">RatingWidget.com</a></option></optgroup>')+"</select></div>"}d.nero.showLike&&(e+=We(!0)),d.nero.showDislike&&(e+=We(!1)),RW._isPremium()||(e+=pe()),e+="</div>",k.innerHTML=W.ver==RW.ALIGN.VER.TOP?Re()+e:e+Re()},ye=function(){RW._Class.set(k,C+"ui-container "+C+"urid-"+E.urid+" "+C+"ui-"+v+" "+C+"size-"+u.size+" "+C+"dir-"+(m.dir==RW.DIR.RTL?RW.DIR.RTL:RW.DIR.LTR)+" "+C+"halign-"+W.hor+" "+C+"valign-"+W.ver+" "+C+"style-"+u.style),null==u.theme||u.theme.isEmpty()||RW._Class.add(k,"theme-"+u.theme,C),u.readOnly||RW._Class.add(k,"active",C),p.bold&&RW._Class.add(k,"bold",C),p.italic&&RW._Class.add(k,"italic",C),u.rclass.trim().isEmpty()||RW._Class.add(k,"class-"+u.rclass,C),RW.visitor.mobile&&RW._Class.add(k,"mobile",C)},we=function(){if(u.style.toLowerCase()===RW.CUSTOM){var e=b.getClassOptions(),t=b.getThemeOptions(e);e.style===RW.CUSTOM&&RW._isEqualImg(u.imgUrl,e.imgUrl)||t.style===RW.CUSTOM&&RW._isEqualImg(u.imgUrl,t.imgUrl)||RW._addCustomImgStyle(u.imgUrl,[v],"urid",E.urid)}},be=function(e,t){if(t=t,(t||b.isReady())&&u.showTooltip){var i=RW._getFirstByTagName("a",e);e=RW._is(i)?i:e,RW._tooltip.style.left="",RW._tooltip.style.top="",e.appendChild(RW._tooltip),RW._tooltip.style.display="block",RW._tooltip.style.left="-"+Math.ceil((RW.width(RW._tooltip)-b.getIconWidth())/2)+"px";var n=RW.offset(RW._tooltip),r=RW.docOffset();doc.body.appendChild(RW._tooltip),RW._tooltip.style.left=n.left+"px";var o=RW.height(RW._tooltip);n.top-o-4>r.top?(RW._Class.set(RW._tooltip,"rw-ui-tooltip rw-valign-top"),RW._tooltip.style.top=n.top-o-3+"px"):(RW._Class.set(RW._tooltip,"rw-ui-tooltip rw-valign-bottom"),RW._tooltip.style.top=n.top+b.getIconWidth()+4+"px")}},Te=function(){z(),k.innerHTML="",k.setAttribute("style",(RW._is(y)?y+";":"")+d.css.container),we(),ye(),b.isStar()?me():b.isThumb()&&ve(),u.isDummy&&(k.innerHTML+='<input type="hidden" class="rw-vote-data" name="rw-vote-data"/>'),u.showInfo&&(r=RW._getFirstByClassName("rw-ui-info","span",k),s=r.parentNode,o=s.parentNode),ge()&&(l=RW._getFirstByClassName("rw-ui-mobile-stars","select",k),E.isRated||(l.selectedIndex=-1)),b.refresh(),ne()},Se=function(e,t){var i=new Date,n=new Date(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds()),r=Date.parse(e.replace(/-/g,"/"))+864e5*t;return n.getTime()>=r||r},Ce=function(){var e=!1;return e=!!E.isRated&&(!!u.reVote&&(u.frequency!=RW.FREQUENCY.UNLIMITED&&(u.frequency==RW.FREQUENCY.ONCE?E.lastVote.id:!0!==Se(E.lastVote.created,u.frequency)&&E.lastVote.id)))},Ee=function(){E.voteEnd(),b.refresh()},ke=function(e,i,n){b.setTooltip('<i class="rw-action-loader"></i>',!0),be(e,!0);var r=E.beforeRate(),o=!r||r(t,i);if(!1===o)return void Ee();!0===o&&RW._is(RW.visitor.id)&&(o=RW.visitor.id),b.setLabel(h.thanks);var s=Ce(),a=[{name:"urid",value:E.urid},{name:"riid",value:b.id}];if(a.push(RW.TYPE.STAR===v?{name:"rate",value:i*(RW.MAX/d.star.stars)}:{name:"like",value:i}),s!==!1&&a.push({name:"voteID",value:s}),o!==!0&&a.push({name:"vid",value:o}),u.uarid>0&&a.push({name:"uarid",value:u.uarid}),u.isDummy){RW.Com.enrichRequest(a,!1);var l=RW.Com.fromNameValue(a);l.voteID&&delete l.voteID;var c={success:!0,msg:""},f={riid:l.riid,votes:1};undef!==l.like?f.rate=l.like?5:0:f.rate=l.rate;var p=[{rate:f.rate}];f.votesData=p,c.data=f;var R=RW._getFirstByClassName("rw-vote-data","input",k);R.value=JSON.stringify(l),RW._rateCallback(c,E.urid)}else RW.Com.jsonp(RW._jsUrl("api/rating/rate.php"),{data:a});typeof undef!=typeof _gaq&&(_gaq.push(["_setCustomVar",1,"urid",E.urid,3]),
_gaq.push(["_setCustomVar",2,"title",u.title,3]),_gaq.push(["_setCustomVar",3,"rate",RW.TYPE.STAR===v?i.toString():i?"like":"dislike",1]),_gaq.push(["_trackEvent","Rating","Vote",u.title,i]))},Ie=function(e,t,i){if(b.isReady())if(E.voteBegin(),b.hideReport(),b.hideTooltip(),RW.shouldConnect()){var n=doc.createElement("iframe"),r=doc.createElement("div");r.id="rw_modal",n.className="rw-ui-signup-window",n.src=RW._url(RW.Com.getUrl("/signup/visitor/",[{name:"site_id",value:RW.site.id},{name:"type",value:v},{name:"style",value:u.style},{name:"rate",value:RW.TYPE.STAR===v?t:t?5:0},{name:"label",value:encodeURIComponent(RW.TYPE.STAR===v?Z(t-1):h[t?"like":"dislike"])},{name:"stars",value:RW.TYPE.STAR===v?d.star.stars:0},{name:"cguid",value:RW._guid()}])),n.onload=function(){this.style.visibility="visible",RW.remove(RW._getFirstByTagName("img",r))},body.appendChild(r),r.innerHTML=N(),r.appendChild(n),window.addEventListener("message",function(n){if(n=n||window.event,n.data.startsWith("rw:")){var o=n.data.split(":"),s=o[1];switch(s){case"rw_visitor_id":RW._setVisitorID(o[2],!0),ke(e,t,i);break;default:Ee()}RW.remove(r)}},!1)}else ke(e,t,i)};b.distroy=function(){RW.remove(e)},b.getClass=function(){return w=RW.getGlobalOptions(),RW._Set.getOption([n,w],"rclass")},b.getClassOptions=function(){return RW.getClassOptions(b.getClass())},b.getThemeOptions=function(e){return w=RW.getGlobalOptions(),RW._getThemeOptions(RW._Set.getOption([n,e,w],"theme",!1))},b.getCalculatedOptions=function(){var e=b.getClassOptions();w=RW.getGlobalOptions();var t=RW._Set.merge([n,e,b.getThemeOptions(e),w],I);return RW._isNotEmptyString(t.style)||(t.style=RW._DEF_STYLES[t.type.toUpperCase()]),t.style.toLowerCase()!==RW.CUSTOM||RW._isTrial()||RW._isProfessional()||(t.style=RW._DEF_STYLES[t.type.toUpperCase()]),t},b.getIconWidth=function(){return u.size==RW.SIZE.SMALL?16:u.size==RW.SIZE.MEDIUM?20:u.size==RW.SIZE.TINY?13:30},b.isStar=function(){return v==RW.TYPE.STAR},b.isThumb=function(){return v==RW.TYPE.NERO},b.isDummy=function(){return u.isDummy},b.getTotalLikes=function(){return oe("like")},b.getTotalDislikes=function(){return oe("dislike")},b.getBoostedVotes=function(){var e=b.getBoostedValues();return b.isStar()?e.votes:(d.nero.showLike?e.likes:0)+(d.nero.showDislike?e.dislikes:0)},b.getBoostedValues=function(){var e=u.showAverage?E.votes+u.boost.votes:E.isRated?1:0,t=u.showAverage?b.getNormalizedRate(E.rate)+u.boost.rate*u.boost.votes:b.getNormalizedRate(E.lastVoteRate),i=Math.floor(t/RW.MAX),n=Math.max(0,e-i);return b.isStar()?{votes:e,rate:t}:{likes:i,dislikes:n}},b.localizeNumber=function(e){return RW.localizeNumber(e,u.lng)},b.lastVoteTooltip=function(){return E.rate>0&&E.votes>0?b.isThumb()?h[RW.LIKE_RATE===E.rate?"like":"dislike"]:Z(Math.ceil(E.rate/E.votes)-1):h.rateThis},b.formatLabel=function(e){if(e.indexOf("/%")===-1&&e.indexOf("{{")===-1)return e;var t=b.getBoostedValues(),i=t.votes;b.isThumb()&&(i=0,d.nero.showLike&&(i+=t.likes),d.nero.showDislike&&(i+=t.dislikes));var n={"text.rateThis":h.rateThis,"text.outOf":h.outOf,"text.votes":1==i?h.vote:h.votes,"rating.lastVote":b.lastVoteTooltip()},r={"rating.votes":i,"rating.likes":t.likes,"rating.dislikes":t.dislikes,"rating.max_rate":d.star.stars,"rating.avg_rate":i>0?(t.rate/i*(d.star.stars/RW.MAX)).toFixed(2):0,"rating.rate_percent":i>0?Math.ceil(t.rate/i*100/RW.MAX):0},o=RW.isLocalizedNumbers(u.lng),s=0;do{for(var a in n)e=e.replace("/%"+a+"%/",n[a]),e=e.replace("{{"+a+"}}",n[a]);for(var a in r)e.indexOf("/%"+a+"%/")>-1&&(e=e.replace("/%"+a+"%/",o?b.localizeNumber(r[a]):r[a])),e.indexOf("{{"+a+"}}")>-1&&(e=e.replace("{{"+a+"}}",o?b.localizeNumber(r[a]):r[a]));s++}while(s<10&&(e.indexOf("/%")>-1||e.indexOf("{{")>-1));return e=e.trim()},b.getLabelValue=function(){var e=b.getBoostedValues(),t="";return b.isStar()?u.readOnly||0!==e.votes&&(u.showAverage||E.isRated)?u.showAverage?(t=_.text.star.rated,u.readOnly||E.isRated||(t=_.text.star.normal)):t=h.thanks:t=_.text.star.empty:t=u.readOnly||E.isRated?d.nero.showLike&&d.nero.showDislike?_.text.nero.rated:"":_.text.nero.empty,t},b.getNormalizedRate=function(e,t){if(b.isThumb())return e;var i=e*(d.star.stars/RW.MAX);return!0===t?Math.round(i):i},b.isReady=function(){return"ready"==E.getState()},b.isActive=function(){var e=!1;return e=!u.readOnly&&(!E.isRated||(!(!u.reVote||!(b.isStar()&&d.star.stars>1||b.isThumb()&&d.nero.showLike&&d.nero.showDislike))||u.frequency!=RW.FREQUENCY.ONCE&&(u.frequency==RW.FREQUENCY.UNLIMITED||!0===Se(E.lastVote.created,u.frequency)))),RW._Class.toggle(k,S+"active",!0===e),e},b.isActiveAndReady=function(){return b.isActive()&&b.isReady()},b.setOptions=function(e){n=RW._Set.merge([e],I),b.render()},b.setSize=function(e){e!=u.size&&(RW._Class.override(k,S+"size-"+u.size,S+"size-"+e),u.size=e)},b.setStyle=function(e,t){if(t=RW._def(t,{ltr:"",rtl:""}),e=e.toLowerCase(),e!=u.style||e==RW.CUSTOM&&!RW._isEqualImg(t,u.imgUrl)){if(u.style==RW.CUSTOM&&e!==RW.CUSTOM){RW._Class.remove(k,S+"theme-"+u.theme),RW._Class.remove(k,S+"class-"+u.rclass);var i=RW._getById("rw_urid_"+E.urid+"_custom_style");RW._is(i)&&RW.remove(i)}RW._Class.override(k,S+"style-"+u.style,S+"style-"+e),u.style=e,u.imgUrl=t,u.style.toLowerCase()==RW.CUSTOM&&RW._addCustomImgStyle(u.imgUrl,[v],"urid",E.urid)}},b.toggleBold=function(){RW._Class.toggle(k,S+"bold"),p.bold=!p.bold},b.toggleLike=function(e){b.isThumb()&&(d.nero.showLike=RW._is(e)?e:!d.nero.showLike,b.render())},b.toggleDislike=function(e){b.isThumb()&&(d.nero.showDislike=RW._is(e)?e:!d.nero.showDislike,b.render())},b.setReadOnly=function(e){e!=u.readOnly&&(RW._Class.toggle(k,S+"active"),u.readOnly=e)},b.setShowInfo=function(e){e!=u.showInfo&&(u.showInfo=e,b.render())},b.toggleItalic=function(){RW._Class.toggle(k,S+"italic"),p.italic=!p.italic},b.setFontType=function(e){e!=p.type&&(RW._foreach(RW._getByTagName("span",k),function(t){t.style.fontFamily=e}),p.type=e)},b.setLabelBackground=function(e,t){e=RW.Color.canonize(e),(t||e!=RW.Color.canonize(u.label.background))&&(u.showInfo&&(o.style.backgroundColor=e),b.setLabelNubColor(e,"inner"),u.label.background=e)},b.setFontColor=function(e,t){e=RW.Color.canonize(e),(t||e!=RW.Color.canonize(p.color))&&(b.setLabelColor(e),p.color=e)},b.setFontHOverColor=function(e){e=RW.Color.canonize(e),e!=RW.Color.canonize(R.color)&&(R.color=e)},b.setFontSize=function(e){e!=p.size&&(u.showInfo&&(r.style.fontSize=e),b.isThumb()&&(d.nero.showLike&&(V().style.fontSize=e),d.nero.showDislike&&(j().style.fontSize=e)),p.size=e)},b.setDirection=function(e){e!=m.dir&&(RW._Class.override(k,S+"dir-"+m.dir,S+"dir-"+e),m.dir=e)},b.setAlignment=function(e,t){e==W.ver&&t==W.hor||(e!=W.ver&&RW._Class.replace(k,S+"valign-"+W.ver,S+"valign-"+e),t!=W.hor&&RW._Class.replace(k,S+"halign-"+W.hor,S+"halign-"+t),u.showInfo&&e!=W.ver&&(e==RW.ALIGN.VER.TOP?(k.appendChild(o),k.appendChild(q())):(k.appendChild(q()),k.appendChild(o))),W.ver=e,W.hor=t,b.setLabelBackground(u.label.background,!0),b.setFontColor(p.color,!0))},b.setLineHeight=function(e){e!=m.lineHeight&&(u.showInfo&&(r.style.lineHeight=e),b.isThumb()&&(d.nero.showLike&&(V().style.lineHeight=e),d.nero.showDislike&&(j().style.lineHeight=e)),m.lineHeight=e)},b.setLanguage=function(e){if(e!=u.lng&&RW._is(RWL[e])){for(var t in g)h[t]=RWL[e].text[t];b.setDirection(RWL[e].dir),RW.ALIGN.VER.MIDDLE===W.ver&&b.setAlignment(RWL[e].align.ver,RWL[e].align.hor),u.lng=e,b.refresh()}},b.setStarsNum=function(e){e=Math.max(RW.MIN_STARS,Math.min(RW.MAX_STARS,parseInt(e,10))),v===RW.TYPE.STAR&&d.star.stars!==e&&(d.star.stars=e,b.render())},b.setCSS=function(e,t){if(RW._is(d.css[e])&&d.css[e]!==t){d.css[e]=t;var i=k.style.display;k.setAttribute("style",t),k.style.display=i}},b.setLabel=function(e){b.isReady()&&u.showInfo&&(""==e?RW._getFirstByClassName("rw-ui-info-container","span",k).style.display="none":u.showInfo&&(r.innerHTML=b.formatLabel(e)))},b.setLabelColor=function(e){b.isReady()&&u.showInfo&&(u.showInfo&&(r.style.color=e),b.setLabelBorderColor(RW.Color.toRgba(e,.5)))},b.setLabelBorderColor=function(e){u.showInfo&&(s.style.borderColor=e),b.setLabelNubColor(e,"outer")},b.setLabelNubColor=function(e,t){if(u.showInfo){var t=RW._getFirstByClassName("rw-ui-info-"+t+"-nub","*",o),i=RW.ALIGN.VER.MIDDLE===W.ver?W.hor:W.ver;t.style.borderTopColor=t.style.borderRightColor=t.style.borderBottomColor=t.style.borderLeftColor="",t.style["border"+i.ucfirst()+"Color"]=e}},b.setTooltip=function(e,t){if(t=t,(t||b.isReady())&&u.showTooltip)return RW._tooltip.innerHTML='<b></b><span class="rw-ui-tooltip-label"><nobr>'+e+"</nobr></span>",!e.isEmpty()},b.rate=function(e,t){e=(a.length+e)%a.length,a[e].onclick(t),ge()&&(l.selectedIndex=a.length-1-e)},b.doRate=function(e,t,i){return e=Math.min(d.star.stars,Math.max(RW.MIN,e)),Ie(t,e,i)},b.like=function(e,t,i){return Ie(e,RW._def(i,!0),t)},b.dislike=function(e,t){return b.like(e,t,!1)},b.hideTooltip=function(){E.hideTooltip()},b.hideReport=function(){RW.RatingReport.close(!0)},b.showReport=function(){if(X()){var e=RW._getFirstByClassName("rw-ui-info-container","span",k);RW._is(e)||(e=k),RW.RatingReport.open(b,e)}},b.refresh=function(){b.isStar()?se():b.isThumb()&&ae(),RW._isPremium()&&RW._Class.add(k,"premium",C),b.setFontColor(p.color,!0),b.setLabelBackground(u.label.background,!0),b.setLabel(b.getLabelValue()),b.hideTooltip()},b.renderNub=function(){return'<i aria-hidden="true" class="rw-ui-info-nub rw-ui-info-outer-nub"></i><i aria-hidden="true" class="rw-ui-info-nub rw-ui-info-inner-nub"></i>'},b.renderMobileDropdown=function(){for(var e='<div class="rw-mobile-action-area"><select class="rw-ui-mobile-stars"><optgroup label="'+h.rateThis+'">',t=b.isActive()?"":' disabled="disabled"',i=E.isRated?E.lastVoteRate-1:-1,n=d.star.stars-1;n>=0;n--)e+="<option"+(n===i?' selected="selected"':t)+">"+Z(n)+"</option>";return e+="</optgroup>"+(RW._isPremium()?"":'<optgroup label="Powered By"><option><a href="'+WWW+'" target="_blank">RatingWidget.com</a></option></optgroup>')+"</select></div>"},b.render=function(){Te()},b.getRating=function(){return E},b.getStar=function(e){return a[(a.length+e)%a.length]},b.showMobileUX=function(){return ge()},b.hasRecommendations=function(){return RW._isArray(E.recommendations)&&E.recommendations.length>0},b.recommendationsCount=function(){return b.hasRecommendations()?E.recommendations.length:0},b.getRecommendations=function(){return E.recommendations},b.getReport=function(){for(var e={},t=1,i=d.star.stars;t<=i;t++)e[t]=0;for(var n=0,i=E.report.length;n<i;n++)e[b.getNormalizedRate(E.report[n].rate,!0)]+=parseInt(E.report[n].votes,10);return e},b.isVisible=function(){return RW.isVisible(k)},b.id=i,b.rating=E,b.element=k,b.options=O(E.options),A()},RW.RatingReport=function(e){var t=null,i=null,n=null,r=null,o=function(e,i){if(e.isReady()&&e.options.showReport&&(!e.isThumb()||e.advanced.nero.showLike&&e.advanced.nero.showDislike)&&(!RW._isPremium()||!(e.isStar()&&e.advanced.star.stars<2||e.isThumb()&&0===e.getBoostedVotes()))){n=i,r=e,RW._Class.set(t,"rw-ui-report rw-meta-rating-"+r.rating.rid);var o=p();if(RW._is(r.rating.report)||r.isThumb()&&!o)m();else if(r.isStar()||o){var s=[{name:"rid",value:r.rating.rid},{name:"urid",value:r.rating.urid}];o&&(s.push({name:"type",value:r.type}),s.push({name:"recommendations",value:!0}),s.push({name:"category",value:RW.site.category}),s.push({name:"sponsored",value:(RW._showSponsoredRecommendations()||e.options.showSponsored)&&RW.Sponsored.preload()?RW.Sponsored.count():0}),s.push({name:"show_sponsored",value:RW._showSponsoredRecommendations()||e.options.showSponsored}),s.push({name:"country",value:RW.visitor.country})),r.getRating().setCalling(),RW.Com.jsonp(RW._jsUrl("api/v2/rating/report.php"),{data:s})}}},s=function(e,t,i){for(var n=RW.Svg.createElement("g"),r=RW.Svg.createElement("defs"),o=null,s=null,a=0;a<i.length;a++){o=RW.Svg.createElement("radialGradient"),RW._setAttr(o,{id:"grad_"+i[a].id,r:"50%",cx:"50%",cy:"50%",gradientUnits:"userSpaceOnUse"});for(var l=0;l<i[a].stops.length;l++)s=RW.Svg.createElement("stop"),RW._setAttr(s,{offset:i[a].stops[l][0],"stop-color":i[a].stops[l][1]}),o.appendChild(s);r.appendChild(o)}e.appendChild(n),n.appendChild(r);for(var u=!1!==RW.Ad.get()||f(),c={width:RW.width(e),height:RW.height(e)},d={x:c.width/2,y:u?c.height:c.height/2},p=u?c.width/2-50:Math.min(c.width,c.height)/2,R=u?p-80:p-30,g=u?2*RW._sum(t):RW._sum(t),h=null,_=u?180:270,m=0,a=0;a<t.length;a++)part=t[a]/g,1==Math.floor(part)&&(part=.999999),m=_+360*part,h=RW.Svg.getArcPath(d,p,_,m,R),RW._setAttr(h,{fill:"url(#grad_"+i[a].id+")"}),n.appendChild(h),_=m},a=function(e){if(r.isVisible()){t.style.display="block";var i=RW.width(e),n=RW.height(e),o=RW.width(t),s=RW.Ad.get(),a="rw-ui-report rw-size-large rw-halign-center gradient rw-dir-"+r.advanced.layout.dir+(r.isStar()?" rw-type-star":" rw-type-nero")+" rw-meta-rating-"+r.rating.rid+(r.getBoostedVotes()>0?"":" rw-no-votes")+(RW._isPremium()?" rw-premium":"")+(p()&&f()?" rw-ui-ad-468x60":RW._isPremium()||!1===s?"":" rw-ui-ad-"+s.width+"x"+s.height);RW._Class.set(t,a),t.style.left="0",t.style.top="0",e.appendChild(t),t.style.left="-"+Math.ceil((o-i)/2)+"px";var l=RW.offset(t),u=RW.docOffset();doc.body.appendChild(t),t.style.left=l.left+"px";var c=RW.height(t),d=l.top-c-10,R=l.top+n+10;d>u.top?(a+=" rw-valign-top",t.style.top=d+"px"):(a+=" rw-valign-bottom",t.style.top=R+"px"),RW._Class.set(t,a)}},l=function(){return'<span class="rw-ui-close" onclick="RW.RatingReport.close(true);">&times;</span>'},u=function(e,t){var i=RW.getDomain(e.url);return'<a href="'+e.url+'" title="Read More" onclick="RW.Trc.linkClick(this, {cell: '+t+", siteCategory: '"+RW.site.category+'\'}); return false;">    <img src="'+RW._tmbUrl(RW._isNotEmptyString(e.img)?e.img:e.url,152,110)+'" alt="" />    <span class="rw-ui-title">'+e.title+(RW._isString(i)?" <b>"+i+"</b>":"")+"</span></a>"},c=function(e,t,i){return i=i||"&#10064; Sponsored",'<a class="rw-ui-external" href="'+e.url+'" target="_blank" title="Read More" onclick="RW.Sponsored.clicked(\''+e.postId+"'); RW.Trc.adClick('"+e.clickUrl+'\'); return false;">    <img src="'+RW._tmbUrl(RW._isNotEmptyString(e.thumbnail_path)?e.thumbnail_path:e.url,152,110)+'" alt="" />    <span class="rw-ui-title">'+e.title+" <b>"+(RW._isString(e.domain)?e.domain:"Sponsored")+'</b></span>    <b class="rw-ui-label">'+i+"</b></a>"},d=function(){var e=r.getRecommendations(),t=RW.Sponsored.get(Math.max(1,3-(RW._isNotEmptyArray(e)?e.length:0))),i=!1,n='<div class="rw-ui-recommendations">    <span class="rw-ui-recommendations-title">'+r.advanced.text.weRecommend+":</span>    <ul>";if(t.length>0&&RW.Trc.load("sponsored_link"),3===t.length){var o=t[0];t[0]=t[1],t[1]=o}for(var s=0,a=0,l=0;s<3;s++)i=3===t.length||1===s&&t.length>0||2===s&&t.length>1,n+="<li>"+(i?c(t[a],s):u(e[l],s))+"</li>",i?a++:l++;return n+="    </ul></div>"},f=function(){return 3<=r.recommendationsCount()+(RW._is(RW.Sponsored)?RW.Sponsored.count():0)},p=function(){return!r.options.hideRecommendations&&(RW._isFree()&&RW._showRecommendations()||RW._isPaid()&&r.options.showRecommendations)},R=function(){return'Powered by <a href="http://rating-widget.com/?s='+RW.site.type.toLowerCase()+'&w=report" target="_blank" rel="nofollow"><em></em> <b>Rating</b><i>Widget</i></a>'},g=function(){var e="";return p()&&f()&&(e+=d()),RW._isPaid()||(e+=R()),e.isEmpty()?"":'<div class="rw-ui-poweredby">'+e+"</div>"},h=function(){for(var e=r.getBoostedValues(),t='<div class="rw-ui-report-header">'+r.localizeNumber(e.votes>0?Math.round(e.rate/e.votes*100)/100:0)+" "+r.advanced.text.outOf+" "+r.localizeNumber(r.advanced.star.stars)+"</div>"+l()+"<table>",i=r.getReport(),n=r.advanced.star.stars;n>=1;n--){var o=(RW._is(i)&&RW._is(i[n])?parseInt(i[n],10):0)+(n+1==r.options.boost.rate?r.options.boost.votes:0),s=e.votes>0?Math.floor(o/e.votes*1e4)/100:0;t+="<tr><td><em>"+(r.advanced.star.stars>RW.MAX?r.localizeNumber("["+n+"/"+r.advanced.star.stars+"]"):r.advanced.text[RW._TEXT_MAP.STAR[n-1]])+'</em></td><td><b><i style="width: '+s+'%;"></i></b></td><td><var>('+r.localizeNumber(o)+")</var></td></tr>"}return t+="</table>",t+=g(),t+=r.renderNub()},_=function(){var e=r.getBoostedValues(),t=e.likes>=e.dislikes,i=Math.ceil((t?e.likes:e.dislikes)/(e.likes+e.dislikes)*100),n=e.likes+e.dislikes,o='<div class="rw-ui-report-header">'+n+" "+r.advanced.text.votes+"</div>"+l()+'<div class="rw-ui-svg-container rw-ui-nero rw-ui-'+(t?"like":"dislike")+" rw-size-large rw-style-"+r.options.style+'"><svg version="1.2" xmlns="'+svgXmlns+'" xmlns:xlink="http://www.w3.org/1999/xlink"></svg><div class="rw-data"><span><b>'+i+'</b><i>%</i></span><i class="rw-icon rw-ui-'+(t?"like":"dislike")+'-icon rw-hover"></i></div></div>';return o+=g(),o+=r.renderNub(),RW.Com.jsonp(RW._jsUrl("api/track.php"),{data:[{name:"event",value:"nero_report"}]}),o},m=function(){if(t.innerHTML=r.isStar()?h():_(),a(n),r.isThumb()){var e=r.getBoostedValues();if(0===e.likes+e.dislikes)return;s(RW._getFirstByTagName("svg",t),[e.likes,e.dislikes],[{id:"green",stops:[["0%","#9AF87B"],["100%","#54d547"]]},{id:"red",stops:[["0%","#FF7351"],["100%","#FF3200"]]}])}r.getRating().setReady()},W=function(){RW._is(t)&&RW.hide(t)},v=function(e){!RW._is(i)&&RW.isVisible(t)&&(i=setTimeout(function(){W()},500))},y={init:function(){t=doc.createElement("div"),t.style.display="none",t.className="rw-ui-report",body.appendChild(t),t.onmouseover=function(e){null!==i&&(clearTimeout(i),i=null)},RW.mouseOut(t,v)},open:function(e,i){t.onmouseover(),RW.isVisible(t)||o(e,i)},close:function(e){!0===e?W():v()},_getCallback:function(e){var t=RW.getRating(e.rating.urid);if(RW._is(t)&&!RW._isArray(t.report)){if(t.recommendations=e.recommendations,RW.Sponsored.append(e.sponsored),t.report=[],r.isStar())for(var i=0,n=e.rating.report.length;i<n;i++)t.report.push({rate:parseFloat(e.rating.report[i].rate),votes:parseInt(e.rating.report[i].votes,10)});m()}}};return y}(),RW.Trc=function(){return{linkClick:function(e,t){t=RW._extandObj(t,{refUrl:encodeURIComponent(RW._isString(e)?e:e.href)}),RW.Com.jsonp(RW._jsUrl("api/tracking/click.php"),{data:RW.Com.toNameValue(t)})},adClick:function(e){window.open(RW._url("/ad/click/")+"?url="+encodeURIComponent(e))},load:function(e,t,i){var n={category:e};undef!==t&&(n.label=t),undef!==i&&(n.val=i),RW.Com.jsonp(RW._jsUrl("api/tracking/load.php"),{data:RW.Com.toNameValue(n)})}}}(),RW.TopRated={},RW.TopRated.Widget=function(e,t){var i=this,n=t.itemGroups,t=RW._extandObj(t,{title:{label:"",show:!0,before:"",after:""},options:{align:"vertical",dir:"ltr",html:{before:"",after:""}},site:{id:0,domain:"",type:"NOT_SET"},itemGroups:[]}),r=function(){if(!t.title.show)return"";var e='<div class="rw-ui-header">';return before=t.title.before.isEmpty()?'<h3 class="rw-ui-content-recommendations-title">':t.title.before,after=t.title.after.isEmpty()?t.title.before.isEmpty()?"</h3>":"":t.title.after,e+=before+t.title.label+after+"</div>"},o=function(e){return RW._isPremium()?"":'<div class="rw-ui-footer">'+s(e)+"</div>"},s=function(e){return RW._renderPoweredBy(e)},a=function(){for(var e=t.options.html.before+'<div class="rw-ui-content-recommendations rw-ui-control rw-dir-'+t.options.direction+'">    <div class="rw-ui-header">'+r()+'</div>    <div class="rw-ui-content-recommendation-groups">',i=0,s=n.length;i<s;i++)e+=new RW.TopRated.Group(n[i],i).render();return e+="    </div>    "+o("http://rating-widget.com/?s="+RW.site.type.toLowerCase()+"&w=toprated")+"</div>"+t.options.html.after};i.render=function(){for(var t,i=a(),n=0;n<e.length;n++){for(e[n].innerHTML=i,t=RW._getFirstByClassName("rw-ui-content-recommendations","*",e[n]);RW._is(e[n].firstChild);)RW.insertBefore(e[n].firstChild,e[n]);RW.remove(e[n]),e[n]=t,RW.hide(t)}},i.postRender=function(){RW.Trc.load("toprated",t.itemGroups[0].style),RW._foreach(e,function(e){RW.show(e),RW._isPremium()&&RW.remove(RW._getFirstByClassName("rw-ui-poweredby","*",e))})};var l=function(e,t){for(var i=RW._getByClassName("rw-ui-group-item","li",e),n=Math.min(i.length,t.count()),r=0;r<n;r++)RW.insertAfter(t.renderItem(r),i[r])},u=function(e){for(var t=RW._cloneObj(e.items),i=0,r=n.length;i<r;i++)if(n[i].type===e.type){e=RW._extandObj(e,n[i]);break}for(var o=0,s=t.length;o<s;o++)delete t[o].rating;return e.items=t,e},c=function(e){for(var t=0,i=e.itemGroups.length;t<i;t++){var n=RW._getFirstByAttr("data-type",e.itemGroups[t].type,"rw-ui-group");RW._is(n)&&(u(e.itemGroups[t]),l(n,new RW.TopRated.Group(e.itemGroups[t])))}};i.addItems=function(e){c(e)}},RW.TopRated.Group=function(e,t){var i=this,n=e.items,r=function(t,i,n,r){return'<a class="'+n+'" href="'+t.page.url+'" title="'+t.page.title+'" onclick="RW.Trc.linkClick('+(RW._is(t.page.trackUrl)?"'"+t.page.trackUrl+"'":"this")+", {category: 'toprated', label: '"+e.type+"', cell: "+i+", elementType: '"+r+"'}); return false;\""+(!0===t.page.sponsored?' target="_blank"':"")+">"},o=function(e,t){if(undef===e.rating)return"";var i="rw-ui-container rw-class-"+e.rating.options.rclass+" rw-urid-"+e.rating.localID+" rw-prop-showLoader-false"+(undef===t?"":" "+t.join(" "));return'<div class="'+i+'" data-read-only="true" data-sync="false" data-size="small" data-show-loader="false"></div>'},s=function(e){return e=e||"Ad","<b>"+e+"</b>"},a=function(t,i){var n="width: "+e.options.thumb.width+"px; height: "+e.options.thumb.height+"px;",r='<div class="rw-ui-thumb" style="'+n+'"><img src="'+t.page.img+'" style="'+n+'" alt="">';return i&&undef!==t.rating&&(r+='<div class="rw-ui-rating" style="width: '+(e.options.thumb.width-4)+'px;">'+o(t,["rw-prop-showReport-false","rw-valign-bottom","rw-halign-center"])+"</div>"),!0===t.page.sponsored&&(r+=s()),r+="</div>"},l=function(t,i){var n,s=t.page.title;switch(n='<div class="rw-ui-content-recommendation">',e.style){case"compact_thumbs":n+=r(t,i,"rw-ui-thumb-link","thumb")+a(t)+'</a><div style="margin-left: '+(e.options.thumb.width+20)+"px; min-height: "+(e.options.thumb.height+8)+'px; display: inline-block; vertical-align: middle;">'+r(t,i,"rw-ui-title","text")+s+"</a>"+o(t,["rw-prop-showInfo-false"])+"</div>";break;case"thumbs":n+=r(t,i,"rw-ui-thumb-link","thumb")+a(t,!0)+"</a>"+r(t,i,"rw-ui-title","text")+s+"</a>";break;case"legacy":default:n+=r(t,i,"rw-ui-title","text")+s+"</a>"+o(t)}return n+="</div>"},u=function(){return e.showTitle?'<div class="rw-ui-header">    <span class="rw-ui-group-title">'+e.title+":</span></div>":""},c=function(e){return""},d=function(){for(var t='<div class="rw-ui-group rw-style-'+e.style+'" data-type="'+e.type+'">    '+u()+'    <ul class="rw-ui-group-items">',i=0,r=n.length;i<r;i++)t+='<li class="rw-ui-group-item">'+l(n[i],i)+"</li>";return t+="    </ul>    "+c()+"</div>"};i.count=function(){return n.length},i.renderItem=function(e){var t=document.createElement("li");return RW._Class.set(t,"rw-ui-group-item"),t.innerHTML=l(n[e],e),t},i.render=d},RW.Color=function(e){var t,i=this,n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,r=function(){if(e===t){var i=RW._getFirstByTagName("script"),n=i.style.color;try{i.style.color="rgba(3,7,17,0.5)"}catch(e){}t=n!=i.style.color,i=n}return t},o=function(e){var t=parseInt(e,10).toString(16);return 1==t.length?"0"+t:t},s=function(e){return(e.length>4?e:"#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]).toUpperCase()},a=function(e,t,i){return"#"+o(e)+o(t)+o(i)},l=function(e){var t=n.exec(e);return!!t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},u=function(e){return e.replace(/[^\d,]/g,"").split(",")};return i.toRgba=function(e,t){if(!r())return i.canonize(e);var n;return e=e.toLowerCase(),e.startsWith("rgb")?n=u(e):(e.startsWith("#")||(e="#"+e),n=l(e)),"rgba("+n[0]+", "+n[1]+", "+n[2]+", "+t+")"},i.toHex=function(e){if(!e.startsWith("rgb"))return e.toUpperCase();var t=u(e);return a(t[0],t[1],t[2]).toUpperCase()},i.canonize=function(e){return e.startsWith("#")?s(e):i.toHex(e)},i}()}(),RW._identifyVisitor();var RW_HOOK_READY=RW_HOOK_READY||[];RW_HOOK_READY.push(function(){if(!RW.isLocalhost()){if(!RW.isLocalhost()){if(!RW._isMobile())return;if("android"!==RW.visitor.device.os||"chrome"!==RW.visitor.device.browser&&"safari"!==RW.visitor.device.browser)return;if(RW._is(RW._getById("browsi-js")))return}var e=RW.getPrimaryRating();if(!1!==e){var t=e.getFirstInstance();if(t.isStar()&&t.options.mobile.showTrigger){if(!RW.isLocalhost()){if(!t.showMobileUX())return;if(e.isRated)return}RW.Com.asyncJS(RW._jsUrl("external/mobile.js"),{dailyCache:!0})}}}});var RW_HOOK_READY=RW_HOOK_READY||[];RW_HOOK_READY.push(function(){if(!RW._is(window.vglnk)&&!RW._isPremium()&&"safe"===RW.site.category){window.vglnk={api_url:"//api.viglink.com/api",key:"f6c9fb1ffe086e69e7ff5c6a722caf4c"};var e=document,t=e.createElement("script"),i=e.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.src=(location.href.match(/^https/i)?window.vglnk.api_url:"//cdn.viglink.com/api")+"/vglnk.js",i.parentNode.insertBefore(t,i)}});var RW_HOOK_READY=RW_HOOK_READY||[];RW_HOOK_READY.push(function(){if(RW.isLocalhost()||"shopify"===RW.site.type.toLowerCase()){for(var e,t,i=RW._getByTagName("form"),n=0,r=i.length;n<r;n++)if("/cart/add"==i[n].getAttribute("action")){e=i[n];break}if(RW._is(e)){for(var o=RW._getByTagName("input",i[n]),s=0,r=o.length;s<r;s++)if("submit"===o[s].getAttribute("type")){t=o[s];break}RW._is(t)&&RW.attachEvent(t,"click",function(){var e=!1,t=RW.getRatings();for(var i in t)if(t[i].isRated){e=!0;break}RW.Trc.load("shopify_add2cart",e?"true":"false")})}}});